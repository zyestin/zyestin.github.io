[{"categories":null,"content":"å…³äºæˆ‘ åšå®¢ï¼šä¸»è¦è®°å½•è‡ªå·±çš„å­¦ä¹ (æ¢ç´¢)è®°å½• ã€(è‡ªä»¥ä¸ºçš„)æœ€ä½³å®è·µã€‚ å—ç›Šäºå‰äººåˆ†äº«å‡ºæ¥çš„ç»éªŒï¼Œè‡ªå·±å¾—ä»¥å¼€å‘å¾—æ›´é«˜è´¨é‡ã€é«˜æ•ˆç‡ï¼Œæ„Ÿæ¿€ä¸å°½ï¼› ä¹Ÿå¸Œæœ›è‡ªå·±çš„è¿™ä»½åˆ†äº« èƒ½å¸®åˆ°æœ‰éœ€è¦çš„äººï¼Œäº’ç›¸äº¤æµã€åˆ†äº«ã€å¸®åŠ©ã€è¿›æ­¥ã€‚ è‡ªå·±ï¼šä¸€ä¸ªreact-nativeå¼€å‘ æ‰“å·¥äººï¼Œå³RNerï¼Œ ç›®å‰åœ¨ å°è¯´è¡Œä¸šã€‚ æ›¾ç»åšè¿‡iOSerã€‚ æ¬¢è¿è®¿é—® GitHub - zyestin äº†è§£æ›´å¤šæˆ‘çš„ä¿¡æ¯ ","date":"2024-04-11","objectID":"/about/:1:0","tags":null,"title":"å…³äº","uri":"/about/"},{"categories":null,"content":"è”ç³» æ¬¢è¿åŠ å…¥ qqç¾¤ - 781320177 ä¸€èµ·èŠæŠ€æœ¯ï¼Œè®¨è®ºã€ç§¯ç´¯æ›´å¤šæœ€ä½³å®è·µ ä¸€èµ·åŠªåŠ›ï¼Œä¸ºæˆ‘ä»¬RNerå·¥ä½œæ›´ç¾å¥½ï¼ ","date":"2024-04-11","objectID":"/about/:2:0","tags":null,"title":"å…³äº","uri":"/about/"},{"categories":["react-native"],"content":"MasonryFlashList ç€‘å¸ƒæµå¸ƒå±€åˆ—é«˜ä¸å‡ è§£å†³æ–¹æ¡ˆ ç€‘å¸ƒæµå¸ƒå±€åˆ—é«˜ä¸å‡ æ¼”ç¤ºæ•ˆæœ æœ€ç»ˆæˆ‘å¯¹æ­¤åšäº†å›å¤ ğŸ‘‰ğŸ» issues/946#issuecomment-1972392998 ","date":"2024-03-05","objectID":"/waterfall-perfect/:0:0","tags":["best-practice","react-native"],"title":"ç€‘å¸ƒæµæœ€ä½³å®è·µï¼šåŒåˆ—å‡åŒ€åˆ†å¸ƒï¼Œé«˜åº¦è®¡ç®—\u0026ç¼“å­˜","uri":"/waterfall-perfect/"},{"categories":["react-native"],"content":"æ–¹æ³•1ï¼šã€ä»…è§£å†³äº†åŒåˆ—ã€‘58çš„æ–¹æ¡ˆ æ–¹æ¡ˆæºç  ğŸ‘‰ğŸ» https://github.com/jiangleo/react-native-classroom/blob/main/src/11_Waterfall/lib/RecyclerListView/WaterfallLayoutProvider.ts ä½†ï¼Œåªä¿®æ”¹ä¸ºäº† æ”¯æŒåŒåˆ—ç€‘å¸ƒæµå¸ƒå±€ï¼Œä¹Ÿä¸æ˜¯åŸºäºæœ€æ–°recyclerlistviewç‰ˆæœ¬ 58å¤§ä½¬åˆ†æçš„ recyclerlistviewçš„å¸ƒå±€åŸç†ï¼ŒNice ","date":"2024-03-05","objectID":"/waterfall-perfect/:1:0","tags":["best-practice","react-native"],"title":"ç€‘å¸ƒæµæœ€ä½³å®è·µï¼šåŒåˆ—å‡åŒ€åˆ†å¸ƒï¼Œé«˜åº¦è®¡ç®—\u0026ç¼“å­˜","uri":"/waterfall-perfect/"},{"categories":["react-native"],"content":"æ–¹æ³•2ï¼šã€è¾ƒå®Œç¾çš„ã€‘Masonry layout manager and provider #526 æ–¹æ¡ˆ å¯æƒœï¼Œå¹¶æ²¡æœ‰è¢«mergeï¼Œä½œè€…ä¼¼ä¹ä¸å†å…³æ³¨è¿™ä¸ªé¡¹ç›®äº†ã€‚ ç„¶åï¼Œä¹Ÿæ²¡æœ‰æä¾›patchï¼Œä½†æœ‰äººæä¾›äº†package å’Œ Demoï¼Œéå¸¸èµï¼ ğŸ‘‰ğŸ» æ–¹æ¡ˆæ¥æº package: recyclerlistview-masonrylayoutmanager Demo: https://snack.expo.dev/@robertli93/grid_example Demoæ•ˆæœéå¸¸æ£’ï¼ æ»šåŠ¨æµç•… + å¸ƒå±€å‡åŒ€ ä¸ºä½•æœªè¢«åˆå¹¶ï¼Ÿ éš¾é“æ˜¯å› ä¸ºPRè¯„è®ºåŒºçš„å·²çŸ¥å°bugï¼Ÿè¿˜æ˜¯ä½œè€…ä¸å†ç»´æŠ¤ï¼Ÿ ","date":"2024-03-05","objectID":"/waterfall-perfect/:2:0","tags":["best-practice","react-native"],"title":"ç€‘å¸ƒæµæœ€ä½³å®è·µï¼šåŒåˆ—å‡åŒ€åˆ†å¸ƒï¼Œé«˜åº¦è®¡ç®—\u0026ç¼“å­˜","uri":"/waterfall-perfect/"},{"categories":["react-native"],"content":"æ–¹æ³•3:ã€æœ€å®Œç¾ã€‘MasonryFlashList æœ¬èº«æ”¯æŒä¼˜åŒ–æ’åˆ— è§å®˜æ–¹æ–‡æ¡£ masonry#optimizeitemarrangement If enabled, MasonryFlashList will try to reduce difference in column height by modifying item order. If true, specifying overrideItemLayout is required. Default value is false. åœ¨çœ‹æºç æ—¶ï¼Œå‘ç°MasonryFlashList.tsxä¸­ï¼Œåº•éƒ¨å¯è§å¦‚ä¸‹è¯´æ˜ * FlashList variant that enables rendering of masonry layouts. * If you want `MasonryFlashList` to optimize item arrangement, enable `optimizeItemArrangement` and pass a valid `overrideItemLayout` function. optimize Item Arrangementï¼Œå³ ä¼˜åŒ–Itemçš„å¸ƒç½®/æ’åˆ— å¸ƒå±€è§„åˆ™ æ ¸å¿ƒä»£ç  é»˜è®¤åˆ†é…è§„åˆ™ columnCountåˆ—ï¼Œå¯¹åº”dataSetä¸‹æœ‰å¤šå°‘ä¸ªæ•°ç»„ï¼Œå¯¹åº”æœ‰å¤šå°‘ä¸ªFlashList dataSetä¸‹å„æ•°ç»„(å„åˆ—è¡¨æ•°æ®) æ˜¯æ ¹æ®i % columnCountåœ¨æ•°é‡ä¸Šå…¬å¹³åˆ†é…çš„ optimizeItemArrangement æ’åˆ—è§„åˆ™ optimizeItemArrangementï¼Œåˆ™æ”¹ä¸º åŸºäºåˆ—é«˜åº¦ç´¯è®¡ä¸Šå…¬å¹³åˆ†é…ã€‚ æ¯æ¬¡åˆ†é…å‰ï¼Œé€šè¿‡columnHeightTracker[j] \u003c columnHeightTracker[nextColumnIndex]åˆ¤æ–­ï¼Œæ¯æ¬¡æŠŠItemåˆ†é…ç»™ é«˜åº¦ç´¯è®¡æœ€å°‘çš„é‚£ä¸€åˆ— åŸºäºæ­¤ï¼Œåšå¦‚ä¸‹æ”¹åŠ¨ å¯¹åº•å±‚å°è£…ç»„ä»¶BaseListï¼Œå¢åŠ  å…¥å‚ - é«˜åº¦è®¡ç®—å‡½æ•°sizeForItem æ³¨æ„ï¼šå…¶ä¸­è¿˜ä¸ºdataListä¸­çš„å„ä¸ªå…ƒç´  å¢åŠ äº†cacheé”®ï¼Œç”¨äºç¼“å­˜å„ç§è®¡ç®—å€¼ é™„: BaseListæºç  ğŸ‘‰ğŸ» base åœ¨Itemç»„ä»¶ä¸­ï¼Œå¢åŠ  é«˜åº¦è®¡ç®—å‡½æ•°å®ç° export const sizeForItem = (item) =\u003e { const { previewUri, title, tags, cache } = item; console.log(\"item.cache:\", item.cache); //ä½¿ç”¨ç¼“å­˜é«˜åº¦ï¼Œé¿å…é‡å¤è®¡ç®—ï¼Œå‡å°‘æ€§èƒ½æ¶ˆè€— if (cache[kHeightCacheKey]) return cache[kHeightCacheKey] + px2dp(15); let imageHeight = getHeightFromSize(parseSize(previewUri)) || imageSize; cache[kImageHeightCacheKey] = imageHeight; let titleH = getHeightWithText({ text: title, fontSize: styles.title.fontSize, lineHeight: styles.title.lineHeight, maxNumberOfLines: 2, maxWidth: cellWidth - styles.title.paddingHorizontal * 2, }); cache[kTitleHeightCacheKey] = titleH; let totalH = Math.ceil(imageHeight) + cellBorderWidth * 2 + Math.ceil(styles.title.marginTop) + Math.ceil(titleH) + Math.ceil(tags?.[0] ? px2dp(5) : 0) + Math.ceil(tags?.[0] ? px2dp(20) : 0) + Math.ceil(px2dp(30)); cache[kHeightCacheKey] = totalH; return totalH + px2dp(15); }; æ³¨æ„: å®é™…ä¸Šï¼Œ ç»„ä»¶è‡ªé€‚åº”é«˜åº¦ ä¸ è®¡ç®—æ‰€å¾—é«˜åº¦ æœ‰ç‚¹åå·®ï¼Œä¼šå¯¼è‡´åˆ—è¡¨æ•°æ®åˆ·å¤šäº†åï¼Œä»ä¼šå‡ºç°ä¸¤åˆ—åˆ†å¸ƒä¸å‡ äºæ˜¯ï¼Œä¸Šé¢ä»£ç ä¸­æ¯ä¸ª(å¸¦textçš„)ç»„ä»¶é«˜åº¦è®¡ç®—åï¼Œéœ€è¦å‘ä¸Šå–æ•´ï¼Œæ¯”å¦‚ 23.3 -\u003e 24 å¹¶ä¸”ï¼Œå°†è®¡ç®—çš„å„ç»„ä»¶é«˜åº¦ï¼Œç¼“å­˜åˆ°cacheå¯¹è±¡ä¸­ï¼Œå¹¶ä¸”å°†ä½¿ç”¨è¿™äº›å€¼ è®¾ä¸ºç»„ä»¶styleä¸­çš„height è¿™æ ·å°±é¿å…äº† ç»„ä»¶è‡ªé€‚åº”é«˜åº¦ ä¸ è®¡ç®—é«˜åº¦ ä¹‹é—´çš„åå·®ï¼ï¼ å¦å¤–ï¼Œ è°ƒç”¨sizeForItemæ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ç¼“å­˜é«˜åº¦ï¼Œé¿å…é‡å¤è®¡ç®—ï¼Œå‡å°‘æ€§èƒ½æ¶ˆè€— é™„: 1ç§Itemä½¿ç”¨æºç  ğŸ‘‰ğŸ» ImageTextFeed é«˜åº¦è®¡ç®—å¯¹æ¯”äº†2ä¸ªï¼Œå‘ç°58çš„æ–¹æ¡ˆæ›´å¥½ æºç : https://github.com/jiangleo/react-native-classroom/blob/d09d5a6937f9e8b3b9878566e6a251a814705739/src/12_HomePage/utils/getNumberOfLine.ts#L32 ","date":"2024-03-05","objectID":"/waterfall-perfect/:3:0","tags":["best-practice","react-native"],"title":"ç€‘å¸ƒæµæœ€ä½³å®è·µï¼šåŒåˆ—å‡åŒ€åˆ†å¸ƒï¼Œé«˜åº¦è®¡ç®—\u0026ç¼“å­˜","uri":"/waterfall-perfect/"},{"categories":["react-native"],"content":"æœ‰è¿™ä¹ˆä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ åœ¨å¯¹æŸä¸ªå¸–å­è¿›è¡Œç‚¹èµåï¼Œè¯¥å¸–å­æ‰€å‡ºç°çš„å„ä¸ªåœ°æ–¹ï¼Œe.g.å¸–å­åˆ—è¡¨(å¯èƒ½å¤šå¤„)ã€å¸–å­è¯¦æƒ…(å¯èƒ½å¤šä¸ª)ï¼Œç‚¹èµçŠ¶æ€å®æ—¶åŒæ­¥ã€æ•°é‡åŠ /å‡1åŒæ­¥ã€‚ ","date":"2023-12-18","objectID":"/status-sync-global/:0:0","tags":["best-practice","react-native"],"title":"æœ€ä½³å®è·µ ç‚¹èµ(æ”¶è—ç­‰)çŠ¶æ€çš„å…¨å±€åŒæ­¥æ›´æ–°","uri":"/status-sync-global/"},{"categories":["react-native"],"content":"iOS æ–¹æ¡ˆ åœ¨iOSï¼Œæˆ‘æ˜¯åœ¨æ¯ä¸ªå¸–å­ æ‰€å¯¹åº”çš„ Model(æ•°æ®)å¯¹è±¡é‡Œ ç›‘å¬é€šçŸ¥ï¼Œåˆ¤æ–­ å¸–å­IDï¼ŒIDåŒ¹é… åˆ™æ›´æ–° ç‚¹èµçŠ¶æ€ï¼Œä»¥æ­¤è¾¾åˆ°æ“ä½œç‚¹èµå å®æ—¶åŒæ­¥åŒä¸€å¸–å­çš„ç‚¹èµçŠ¶æ€ï¼Œéå¸¸ç®€å•å¥½ä½¿ï¼ ","date":"2023-12-18","objectID":"/status-sync-global/:1:0","tags":["best-practice","react-native"],"title":"æœ€ä½³å®è·µ ç‚¹èµ(æ”¶è—ç­‰)çŠ¶æ€çš„å…¨å±€åŒæ­¥æ›´æ–°","uri":"/status-sync-global/"},{"categories":["react-native"],"content":"RN æ–¹æ¡ˆ ä½†RNé‡Œï¼Œæ•°æ®æ˜¯ä¸€ä¸ª{id:xx, ...}è¿™æ ·çš„å¯¹è±¡ï¼Œæ˜¯ä¸æ”¯æŒåƒåœ¨iOSé‚£æ ·ï¼Œåœ¨è¿™æ ·å¯¹è±¡é‡Œ å†™ç›‘å¬é€šçŸ¥çš„ä»£ç çš„ã€‚ äºæ˜¯ï¼Œé‚£å°±æ”¾åˆ°hookså»å®ç°ã€‚ Qï¼šé‚£éœ€è¦ä»€ä¹ˆæ ·çš„hookså‘¢ï¼Ÿ Aï¼šä¹Ÿå°±æ˜¯éœ€è¦æ€æ ·çš„ è®¾è®¡æœ€ä¼˜é›…çš„APIï¼Œorè°ƒç”¨æ–¹å¼ ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œæ‰æ˜¯å†³å®šäº†è®¾è®¡ä»€ä¹ˆæ ·çš„hookså‡½æ•° ","date":"2023-12-18","objectID":"/status-sync-global/:2:0","tags":["best-practice","react-native"],"title":"æœ€ä½³å®è·µ ç‚¹èµ(æ”¶è—ç­‰)çŠ¶æ€çš„å…¨å±€åŒæ­¥æ›´æ–°","uri":"/status-sync-global/"},{"categories":["react-native"],"content":"æœ€ä¼˜é›…API è°ƒç”¨æ–¹å¼ const PostComp = () =\u003e { const { isActive: liked, activeCount: likeCount, changeActiveStatus: changeLikeStatus, } = useActiveStatus({ id: id, originalActiveCount: originalLikeCount, originalActiveStatus: originalLikedStatus, notificationKey: kPostLikeStatusChangeNotification, requestFunc: ({ isActive }) =\u003e { return likePost({ postId: id, isLike: isActive }); // send request to toggle liked status }, }); return ( \u003cView\u003e \u003cIcon liked={liked} /\u003e \u003cText\u003e{likeCount}\u003c/Text\u003e \u003cButton onPress={() =\u003e { changeLikeStatus() }} /\u003e \u003c/View\u003e ) } useActiveStatusè¿™ä¸ªhooksçš„å®ç°æºç ï¼Œ å¦‚ä¸‹ ","date":"2023-12-18","objectID":"/status-sync-global/:2:1","tags":["best-practice","react-native"],"title":"æœ€ä½³å®è·µ ç‚¹èµ(æ”¶è—ç­‰)çŠ¶æ€çš„å…¨å±€åŒæ­¥æ›´æ–°","uri":"/status-sync-global/"},{"categories":["react-native"],"content":"æºç  æŠŠiOS Modelé‡Œçš„é€šçŸ¥ æ”¾åˆ°hookså‡½æ•°é‡Œï¼Œå¦‚ä¸‹ æºç useActiveStatus import { useEffect, useState } from \"react\"; import { listen, emit } from \"app/utils/Notification/index\"; /** * 0 1 çŠ¶æ€ç®¡ç†å·¥å…· * @param {function} id ç›®æ ‡å¯¹è±¡id * @param {string} props.notificationKey activeçŠ¶æ€å˜åŒ–æ—¶ å‘å‡ºé€šçŸ¥åç§° * @param {boolean} props.originalActiveCount åˆå§‹activeæ•°é‡ * @param {boolean} props.originalActiveStatus åˆå§‹activeçŠ¶æ€ * @param {function} props.requestFunc({id, isActive}) activeçŠ¶æ€å˜æ›´å‡½æ•° * @returns {boolean} isActive * @returns {number} activeCount * @returns {function} changeActiveStatus() */ export default function useActiveStatus(props) { const { notificationKey, originalActiveCount, originalActiveStatus, requestFunc, id, } = props; const [isActive, setIsActive] = useState(originalActiveStatus); const [activeCount, setActiveCount] = useState(originalActiveCount); useEffect(() =\u003e { setIsActive(originalActiveStatus); }, [originalActiveStatus, id]); useEffect(() =\u003e { setActiveCount(originalActiveCount); }, [originalActiveCount, id]); useEffect(() =\u003e { const listener = listen(notificationKey, ({ id: _id, isActive }) =\u003e { // console.log(\"useActiveStatus:\", isActive); if (_id == id) { if (isActive) { setActiveCount(activeCount + 1); } else { setActiveCount(activeCount - 1 \u003e= 0 ? activeCount - 1 : 0); } setIsActive(isActive); } }); return () =\u003e { listener.remove(); }; }, [isActive, requestFunc, notificationKey, id, activeCount]); const changeActiveStatus = () =\u003e { return requestFunc({ isActive }).then((res) =\u003e { console.log(\"changeFollowStatus:\", notificationKey, id, !isActive); emit(notificationKey, { id: id, isActive: !isActive, }); return Promise.resolve(); }); }; return { isActive, activeCount, changeActiveStatus, }; } ","date":"2023-12-18","objectID":"/status-sync-global/:2:2","tags":["best-practice","react-native"],"title":"æœ€ä½³å®è·µ ç‚¹èµ(æ”¶è—ç­‰)çŠ¶æ€çš„å…¨å±€åŒæ­¥æ›´æ–°","uri":"/status-sync-global/"},{"categories":["react-native"],"content":"ç”¨äº†3å¹´RNäº†ï¼Œç¬¬ä¸€æ¬¡ç»™RNæäº¤PRï¼Œæœ‰ç‚¹æ¿€åŠ¨ï¼Œå€¼å¾—è®°å½•å‘€ï¼ ","date":"2023-12-18","objectID":"/rn-pull-request/:0:0","tags":["contribution","react-native"],"title":"ç¬¬ä¸€æ¬¡æäº¤PRç»™react-native","uri":"/rn-pull-request/"},{"categories":["react-native"],"content":"æ“ä½œè®°å½• gitæ“ä½œå…¨åœ¨githubå®Œæˆ 2023.12.05 7:52PM æäº¤ fork -\u003e åˆ›å»ºåˆ†æ”¯ -\u003e æ”¹ä»£ç  -\u003e æäº¤ ç„¶åè¿›å…¥pull request tab ï¼Œå°±èƒ½çœ‹åˆ°Compare \u0026 pull requestå…¥å£ï¼Œç‚¹å‡»å®ƒ ç”Ÿæˆçš„PRåœ°å€ï¼š https://github.com/facebook/react-native/pull/41803 ç„¶åå°±è¿›å…¥ PRæè¿°ç¼–è¾‘åŒºï¼ŒæŒ‰æç¤ºç¼–è¾‘å®Œï¼Œæäº¤å³å¯ é¦–æ¬¡æäº¤PRï¼Œæç¤ºéœ€è¦ç­¾ç½²CLA è·³è½¬åˆ°è¿™é‡Œ https://github.com/facebook/react-native/pull/41803/checks?check_run_id=19326140445 å†æ‰“å¼€ https://code.facebook.com/claï¼Œ è¿›è¡Œç­¾ç½²CLA ç­¾ç½²åï¼Œè¿™ä¸ªé¡µé¢å°±è¿›å…¥ä¸€ä¸ªæ— æ³•ç¼–è¾‘çš„çŠ¶æ€ï¼Œè™½ç„¶é¡¶éƒ¨æœ‰æç¤ºï¼Œå¦‚æœåœ¨ç­¾CLAä¹‹å‰å·²ç»æäº¤äº†ä¸€ä¸ªï¼Œå†è€å¿ƒç­‰å¾…ä¼šï¼Œä¼šè‡ªåŠ¨å¤„ç†çš„ ğŸ‘‰ğŸ»è¿™ä¸ªå‹äººçš„ç»å†æ˜¯å¾ˆå¥½çš„å€Ÿé‰´ äºæ˜¯ï¼Œä»21:49ï¼Œç­‰å•Šç­‰ï¼Œåˆ°äº† 23:54ï¼Œæ‰æœ‰åé¦ˆ ç¬¬äºŒå¤©æ—©ä¸Šä¸€çœ‹ 10:13ï¼Œè¿˜ç»™äº†æˆ‘å»ºè®®ï¼Œæˆ‘ç‚¹å‡»ä¸€ä¸‹ Commit suggestionå°±okäº† æœ€åå°±å·®maintaineræ‰¹å‡†äº† ä¸€èˆ¬å¤šä¹…æ‰¹å‡†å‘¢ï¼Ÿ æµè§ˆäº†2ä¸ªmergedçš„PRï¼Œéƒ½æ˜¯2å¤© 2023.12.13 11:24PM ç»ˆäºæ”¶åˆ°é‚®ä»¶ PRè¢«åˆå¹¶ This pull request was successfully merged by @zyestin in 5217cc9. å¹¶ä¸”ç´§æ¥ç€æ”¶åˆ°é‚®ä»¶ PRè¢«å…³é—­ Closed #41803 via 5217cc9. é‚£ä½•æ—¶ å¸¦æœ‰æˆ‘è´¡çŒ®çš„ä»£ç  ä¼šè¢«å‘å¸ƒå‘¢ï¼Ÿ ç­‰å¾…ä¸‹ä¸€ä¸ªç‰ˆæœ¬è¢«æ¨å‡ºçš„æ—¶å€™å’¯ å¾…ç»­~ ","date":"2023-12-18","objectID":"/rn-pull-request/:1:0","tags":["contribution","react-native"],"title":"ç¬¬ä¸€æ¬¡æäº¤PRç»™react-native","uri":"/rn-pull-request/"},{"categories":["react-native"],"content":"ScrollViewæ»šåŠ¨åŠ¨ç”» å®ç°èµ·æ¥å°±å¾ˆå®¹æ˜“ æºç  å±•å¼€æŸ¥çœ‹ import React, { useRef, useEffect } from \"react\"; import { ScrollView, Text, View, Animated, Easing } from \"react-native\"; /** * ScrollViewè‡ªåŠ¨æ»šåŠ¨äº†ï¼ */ const AutoScrollScrollView = () =\u003e { const scrollViewRef = useRef(); const scrollY = useRef(new Animated.Value(0)).current; const contentHeight = 1000; // ä½ çš„å†…å®¹é«˜åº¦ const scrollDuration = 5000; // æ»šåŠ¨åŠ¨ç”»çš„æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ useEffect(() =\u003e { const startScrollAnimation = () =\u003e { Animated.timing(scrollY, { toValue: contentHeight, duration: scrollDuration, easing: Easing.linear, useNativeDriver: false, }).start(() =\u003e { // æ»šåŠ¨åˆ°é¡¶éƒ¨å¹¶é‡æ–°å¼€å§‹åŠ¨ç”» scrollY.setValue(0); startScrollAnimation(); }); }; startScrollAnimation(); }, []); return ( \u003cScrollView ref={scrollViewRef} contentContainerStyle={{ height: contentHeight }} onScroll={(event) =\u003e { const offsetY = event.nativeEvent.contentOffset.y; // å¯ä»¥åœ¨æ»šåŠ¨æ—¶æ‰§è¡Œä¸€äº›å…¶ä»–æ“ä½œ }} scrollEventThrottle={16} \u003e \u003cAnimated.View style={{ height: contentHeight, transform: [{ translateY: scrollY }], }} \u003e \u003cText\u003eScrolling Content\u003c/Text\u003e {/* è¿™é‡Œå¯ä»¥æ”¾ç½®ä½ çš„æ»šåŠ¨å†…å®¹ */} \u003c/Animated.View\u003e \u003c/ScrollView\u003e ); }; export default AutoScrollScrollView; ","date":"2023-11-01","objectID":"/waterfall-list-autoscroll/:1:0","tags":["react-native"],"title":" å®ç° FlatList ã€flashListã€masonryFlashList å„ç§åˆ—è¡¨çš„è‡ªåŠ¨æ»šåŠ¨åŠ¨ç”»","uri":"/waterfall-list-autoscroll/"},{"categories":["react-native"],"content":"éScrollViewç±»çš„åˆ—è¡¨ æ»šåŠ¨åŠ¨ç”» ç„¶è€Œï¼ŒFlatList ã€flashListã€masonryFlashListè¦å®ç°è‡ªåŠ¨æ»šåŠ¨åŠ¨ç”»ï¼Œ å´ç”¨ä¸äº†ScrollViewåŒæ ·çš„æ–¹å¼ï¼Œå®ç°èµ·æ¥å°±å¾ˆæ›²æŠ˜ï¼Œç»è¿‡å„ç§å°è¯•å‡å¤±è´¥ï¼Œæ— å¥ˆï¼Œä½¿ç”¨å®šæ—¶å™¨æ–¹å¼å®ç°äº†ï¼Œ æ•ˆæœå›¾ï¼š æºç å¦‚ä¸‹ import React, { useRef, useEffect, useState } from \"react\"; import { FlatList, View, Text } from \"react-native\"; import { MasonryFlashList } from \"@shopify/flash-list\"; const data = Array.from({ length: 20 }, (_, index) =\u003e ({ key: index.toString(), text: `Item ${index}`, })); const renderItem = ({ item }) =\u003e ( \u003cView style={{ height: 100, justifyContent: \"center\", alignItems: \"center\", }} \u003e \u003cText\u003e{item.text}\u003c/Text\u003e \u003c/View\u003e ); const SlowScrollFlatList = ({ duration }) =\u003e { const flatListRef = useRef(); const scrollDistance = 2; // æ§åˆ¶æ¯æ¬¡æ»šåŠ¨çš„è·ç¦» const scrollInterval = 20; // æ¯æ¬¡æ»šåŠ¨ä¹‹é—´çš„é—´éš”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ const [isDragging, setIsDragging] = useState(false); const scrollIntervalId = useRef(null); const currentScrollDistance = useRef(0); const totalScrollDistance = 100 * (data.length - 1); const scroll = () =\u003e { if (currentScrollDistance.current \u003c totalScrollDistance \u0026\u0026 !isDragging) { const nextDistance = Math.min( totalScrollDistance, currentScrollDistance.current + scrollDistance ); flatListRef.current.scrollToOffset({ offset: nextDistance, animated: false, }); currentScrollDistance.current = nextDistance; } }; const startAutoScroll = () =\u003e { scrollIntervalId.current = setInterval(scroll, scrollInterval); }; // ç›‘å¬FlatListçš„æ»šåŠ¨ä½ç½® const onScroll = (event) =\u003e { currentScrollDistance.current = event.nativeEvent.contentOffset.y; }; useEffect(() =\u003e { const stopAutoScroll = () =\u003e { clearInterval(scrollIntervalId.current); }; flatListRef.current.scrollToOffset({ offset: currentScrollDistance.current, animated: false, }); startAutoScroll(); // åˆå§‹å¯åŠ¨è‡ªåŠ¨æ»šåŠ¨ return () =\u003e { stopAutoScroll(); }; }, [isDragging]); return ( // \u003cFlatList // ref={flatListRef} // data={data} // renderItem={renderItem} // keyExtractor={(item) =\u003e item.key} // onScrollBeginDrag={() =\u003e setIsDragging(true)} // onScrollEndDrag={() =\u003e { // setIsDragging(false); // startAutoScroll(); // ç”¨æˆ·åœæ­¢æ‹–åŠ¨åï¼Œé‡æ–°å¯åŠ¨è‡ªåŠ¨æ»šåŠ¨ // }} // onScroll={onScroll} // // è®¾ç½®å…¶ä»– FlatList çš„å±æ€§ // /\u003e \u003cMasonryFlashList ref={flatListRef} estimatedItemSize={/* itemStyles.container.height */ 100} data={data} keyExtractor={(item, index) =\u003e item?.key} initialNumToRender={5} numColumns={2} renderItem={renderItem} showsVerticalScrollIndicator={false} onScrollBeginDrag={() =\u003e setIsDragging(true)} onScrollEndDrag={() =\u003e { setIsDragging(false); startAutoScroll(); // ç”¨æˆ·åœæ­¢æ‹–åŠ¨åï¼Œé‡æ–°å¯åŠ¨è‡ªåŠ¨æ»šåŠ¨ }} onScroll={onScroll} /\u003e ); }; export default SlowScrollFlatList; æ ¸å¿ƒé€»è¾‘ï¼š æ¯é—´éš” scrollInterval msï¼Œæ»šåŠ¨ scrollDistance å°æ­¥è·ç¦» å½“ scrollIntervalè¶³å¤Ÿå°ï¼Œåœ¨1/60s å³16mså·¦å³æ—¶ï¼Œå°±ç±»ä¼¼äºæµç•…çš„æ¯ç§’60å¸§åŠ¨ç”»äº† æ ¹æ®å®é™…çš„æ•ˆæœï¼Œè°ƒèŠ‚scrollInterval ã€scrollDistance å¤§å°ï¼Œä½¿è¾¾åˆ°æ»¡æ„çš„æ•ˆæœ ","date":"2023-11-01","objectID":"/waterfall-list-autoscroll/:2:0","tags":["react-native"],"title":" å®ç° FlatList ã€flashListã€masonryFlashList å„ç§åˆ—è¡¨çš„è‡ªåŠ¨æ»šåŠ¨åŠ¨ç”»","uri":"/waterfall-list-autoscroll/"},{"categories":["react-native"],"content":"å®é™…åœºæ™¯åº”ç”¨ è¯·å‰å¾€ æ…¢é€Ÿè‡ªåŠ¨æ»šåŠ¨çš„æ¨ªå‘ç€‘å¸ƒæµåˆ—è¡¨ ","date":"2023-11-01","objectID":"/waterfall-list-autoscroll/:2:1","tags":["react-native"],"title":" å®ç° FlatList ã€flashListã€masonryFlashList å„ç§åˆ—è¡¨çš„è‡ªåŠ¨æ»šåŠ¨åŠ¨ç”»","uri":"/waterfall-list-autoscroll/"},{"categories":["react"],"content":"å¸¸ç”¨hooksä¾èµ–æ£€æŸ¥ï¼Œä»æºå¤´æé†’é¿å…å¥‡è‘©bug https://github.com/facebook/react/issues/14920 ESLintæä¾›ï¼Œæ£€æŸ¥useEffectä¾èµ– \u0026\u0026 autoFixï¼Œ ç”¨ä¸Šå ä¼°è®¡èƒ½å¤§å¤§é™ä½ æ— æ³•è·å–stateæœ€æ–°å€¼ã€æ¼æ‰ä¾èµ–åå¥‡æ€ªçš„bug ","date":"2023-11-01","objectID":"/tool-dev-react/:1:0","tags":["react","tool"],"title":"hookså¼€å‘å·¥å…·","uri":"/tool-dev-react/"},{"categories":["npm"],"content":" patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨ ","date":"2023-11-01","objectID":"/tool-npm/:0:0","tags":["tool","npm"],"title":"npm å·¥å…·","uri":"/tool-npm/"},{"categories":["npm"],"content":"patch-package å®˜æ–¹åœ°å€ https://www.npmjs.com/package/patch-package ","date":"2023-11-01","objectID":"/tool-npm-patch/:0:0","tags":["tool","npm"],"title":"patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨","uri":"/tool-npm-patch/"},{"categories":["npm"],"content":"é¦–æ¬¡å®‰è£… å¤±è´¥\u0026\u0026è§£å†³ package.jsonå†…scriptsä¸‹ æ·»åŠ  \"postinstall\": \"patch-package\" å®‰è£…ï¼Œå¤±è´¥ npm i patch-package 10:18:05 npm ERR! code ECONNREFUSED npm ERR! errno ECONNREFUSED npm ERR! FetchError: request to https://mirrors.huaweicloud.com/repository/npm/patch-package failed, reason: connect ECONNREFUSED 127.0.0.1:1087 npm ERR! at ClientRequest.\u003canonymous\u003e (/usr/local/lib/node_modules/npm/node_modules/node-fetch-npm/src/index.js:68:14) npm ERR! at ClientRequest.emit (events.js:400:28) npm ERR! at onerror (/usr/local/lib/node_modules/npm/node_modules/agent-base/index.js:101:9) npm ERR! at callbackError (/usr/local/lib/node_modules/npm/node_modules/agent-base/index.js:123:5) npm ERR! at processTicksAndRejections (internal/process/task_queues.js:95:5) npm ERR! FetchError: request to https://mirrors.huaweicloud.com/repository/npm/patch-package failed, reason: connect ECONNREFUSED 127.0.0.1:1087 npm ERR! at ClientRequest.\u003canonymous\u003e (/usr/local/lib/node_modules/npm/node_modules/node-fetch-npm/src/index.js:68:14) npm ERR! at ClientRequest.emit (events.js:400:28) npm ERR! at onerror (/usr/local/lib/node_modules/npm/node_modules/agent-base/index.js:101:9) npm ERR! at callbackError (/usr/local/lib/node_modules/npm/node_modules/agent-base/index.js:123:5) npm ERR! at processTicksAndRejections (internal/process/task_queues.js:95:5) { npm ERR! type: 'system', npm ERR! errno: 'ECONNREFUSED', npm ERR! code: 'ECONNREFUSED' npm ERR! } npm ERR! npm ERR! If you are behind a proxy, please make sure that the npm ERR! 'proxy' config is set properly. See: 'npm help config' npm ERR! A complete log of this run can be found in: npm ERR! /Users/yestin/.npm/_logs/2022-07-14T02_30_35_701Z-debug.log ","date":"2023-11-01","objectID":"/tool-npm-patch/:1:0","tags":["tool","npm"],"title":"patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨","uri":"/tool-npm-patch/"},{"categories":["npm"],"content":"æœ https://segmentfault.com/a/1190000023314583 solution: # é…ç½®æŒ‡å‘æº $ npm config set registry http://registry.npm.taobao.org é…ç½®å‰ ~/workspace/ihuaben-app dev_zy_i *2 !1 \u003e npm config list 1m 12s 10:34:40 ; cli configs metrics-registry = \"https://mirrors.huaweicloud.com/repository/npm/\" scope = \"\" user-agent = \"npm/6.14.15 node/v14.18.3 darwin x64\" ; userconfig /Users/yestin/.npmrc home = \"https://npm.taobao.org\" registry = \"https://mirrors.huaweicloud.com/repository/npm/\" ; node bin location = /usr/local/bin/node ; cwd = /Users/yestin/workspace/ihuaben-app ; HOME = /Users/yestin ; \"npm config ls -l\" to show all defaults. é…ç½®å npm config list 10:39:05 ; cli configs metrics-registry = \"http://registry.npm.taobao.org/\" scope = \"\" user-agent = \"npm/6.14.15 node/v14.18.3 darwin x64\" ; userconfig /Users/yestin/.npmrc home = \"https://npm.taobao.org\" registry = \"http://registry.npm.taobao.org/\" ; node bin location = /usr/local/bin/node ; cwd = /Users/yestin/workspace/ihuaben-app ; HOME = /Users/yestin ; \"npm config ls -l\" to show all defaults. ç„¶å å®‰è£…æˆåŠŸ npm i patch-package 10:39:10 npm WARN @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@7.14.5 requires a peer of @babel/core@^7.13.0 but none is installed. You must install peer dependencies yourself. npm WARN @babel/plugin-proposal-class-static-block@7.14.5 requires a peer of @babel/core@^7.12.0 but none is installed. You must install peer dependencies yourself. npm WARN @react-native-community/cameraroll@1.2.1 requires a peer of react-native@\u003e=0.57 \u003c=0.59 but none is installed. You must install peer dependencies yourself. ... + patch-package@6.4.7 added 12 packages from 23 contributors and removed 153 packages in 40.037s 52 packages are looking for funding run `npm fund` for details yarn yarn add patch-package postinstall-postinstall 41s 10:40:04 yarn add v1.22.19 warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json. [1/4] ğŸ” Resolving packages... info There appears to be trouble with your network connection. Retrying... [2/4] ğŸšš Fetching packages... [3/4] ğŸ”— Linking dependencies... warning \"hox \u003e react-reconciler@0.25.1\" has incorrect peer dependency \"react@^16.13.1\". warning \" \u003e mobx-react@5.3.5\" has unmet peer dependency \"mobx@^4.0.0 || ^5.0.0\". warning \" \u003e react-native-elements@3.4.2\" has unmet peer dependency \"react-native-safe-area-context@^3.1.9\". warning \" \u003e react-native-elements@3.4.2\" has incorrect peer dependency \"react-native-vector-icons@\u003e7.0.0\". warning \" \u003e react-native-fs@2.18.0\" has unmet peer dependency \"react-native-windows@*\". warning \" \u003e react-native-head-tab-view@2.1.7\" has incorrect peer dependency \"@react-native-community/viewpager@^3.3.0\". warning \" \u003e react-native-iap@6.2.1\" has incorrect peer dependency \"react@\u003e=16.13.1\". warning \"react-native-router-flux \u003e react-navigation-stack@1.10.3\" has incorrect peer dependency \"react-native-screens@^1.0.0 || ^1.0.0-alpha\". warning \" \u003e react-native-selfadapt-modal@1.1.3\" has incorrect peer dependency \"react-native@^0.41.2\". warning \"@react-native-community/eslint-config \u003e @typescript-eslint/eslint-plugin@1.13.0\" has incorrect peer dependency \"eslint@^5.0.0\". warning \"@react-native-community/eslint-config \u003e @typescript-eslint/parser@1.13.0\" has incorrect peer dependency \"eslint@^5.0.0\". warning \"@react-native-community/eslint-config \u003e eslint-plugin-react@7.12.4\" has incorrect peer dependency \"eslint@^3.0.0 || ^4.0.0 || ^5.0.0\". warning \"@react-native-community/eslint-config \u003e eslint-plugin-react-native@3.6.0\" has incorrect peer dependency \"eslint@^3.17.0 || ^4 || ^5\". [4/4] ğŸ”¨ Building fresh packages... success Saved lockfile. success Saved 10 new dependencies. info Direct dependencies â”œâ”€ patch-package@6.4.7 â”œâ”€ postinstall-postinstall@2.1.0 â”œâ”€ react-native-gesture-handler@1.10.3 â””â”€ react-native-head-tab","date":"2023-11-01","objectID":"/tool-npm-patch/:2:0","tags":["tool","npm"],"title":"patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨","uri":"/tool-npm-patch/"},{"categories":["npm"],"content":"ä¼˜åŠ¿ ä¸€äºº æ“ä½œä¸‹é¢3æ­¥ï¼Œå…¶å®ƒäººå®Œå…¨æ— æ„ŸçŸ¥ï¼Œnpm iæ—¶ è‡ªåŠ¨å®Œæˆè¡¥ä¸çš„åº”ç”¨ //package.json \"scripts\": { + \"postinstall\": \"patch-package\" } npm i patch-package npx patch-package libxx ","date":"2023-11-01","objectID":"/tool-npm-patch/:3:0","tags":["tool","npm"],"title":"patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨","uri":"/tool-npm-patch/"},{"categories":["npm"],"content":"é‡åˆ°è¿‡çš„bug ","date":"2023-11-01","objectID":"/tool-npm-patch/:4:0","tags":["tool","npm"],"title":"patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨","uri":"/tool-npm-patch/"},{"categories":["npm"],"content":"æ‰§è¡Œnpm iï¼Œreact-native-image-crop-picker+0.38.0.patch applyä¼šå¤±è´¥ æ–¹æ³•1 åˆ ä¸‰æ–¹åº“é‡æ–°å®‰è£…ï¼ˆè¾ƒå¿«ï¼‰ rm -rf node_modules/react-native-image-crop-picker \u0026\u0026 npm i æ–¹æ³•2 äºæ˜¯ç…§ç€react-native-image-crop-picker+0.38.0.patchæ”¹æ–‡ä»¶é‡Œçš„æºç ï¼Œå†æ¬¡æ‰§è¡Œ npx patch-package react-native-image-crop-picker --include 'PickerModule.java' å‘ç°react-native-image-crop-picker+0.38.0.patchä»€ä¹ˆä¹Ÿæ²¡æ”¹ ç„¶åæ‰§è¡Œnpm iå°±æˆåŠŸäº† åæ¥å‘ç°åŸå› ï¼Œå¦‚ä¸‹ï¼Œ.patchæ–‡ä»¶ä¸­ï¼Œä¼šå‡ºç°å¥½å¤šè¡Œ å¸¦æœ‰ç»å¯¹è·¯å¾„/Users/...çš„æ–‡ä»¶è·¯å¾„ -#Wed Jun 29 16:49:45 CST 2022 -/Users/lsye/ihuaben-app/node_modules/react-native-picker/android/src/main/res/layout/picker_view_linkage.xml=/Users/lsye/ihuaben-app/node_modules/react-native-picker/android/build/intermediates/packaged_res/debug/layout/picker_view_linkage.xml ... å¯èƒ½æ˜¯åŒäº‹æ‰§è¡Œæ—¶ï¼Œå‡ºç°å¼‚å¸¸æƒ…å†µäº† ","date":"2023-11-01","objectID":"/tool-npm-patch/:4:1","tags":["tool","npm"],"title":"patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨","uri":"/tool-npm-patch/"},{"categories":["npm"],"content":"æ‰§è¡Œnpx patch-package react-native-xx, .patchä¼šå‡ºç°è®¸å¤šå¤šä½™çš„æ–‡ä»¶å­—ç¬¦ä¸² ... index 408362c..5fd7d55 100644 Binary files a/node_modules/react-native-picker/android/build/intermediates/runtime_library_classes/release/classes.jar and b/node_modules/react-native-picker/android/build/intermediates/runtime_library_classes/release/classes.jar differ diff --git a/node_modules/react-native-picker/android/src/main/java/com/beefe/picker/.DS_Store b/node_modules/react-native-picker/android/src/main/java/com/beefe/picker/.DS_Store new file mode 100644 index 0000000..7a08108 Binary files /dev/null and b/node_modules/react-native-picker/android/src/main/java/com/beefe/picker/.DS_Store differ diff --git a/node_modules/react-native-picker/android/src/main/java/com/beefe/picker/view/OnItemSelectedRunnable.java b/node_modules/react-native-picker/android/src/main/java/com/beefe/picker/view/OnItemSelectedRunnable.java index c52b1a7..7990d96 100644 --- a/node_modules/react-native-picker/android/src/main/java/com/beefe/picker/view/OnItemSelectedRunnable.java +++ b/node_modules/react-native-picker/android/src/main/java/com/beefe/picker/view/OnItemSelectedRunnable.java @@ -10,6 +10,10 @@ final class OnItemSelectedRunnable implements Runnable { @Override public final void run() { - loopView.onItemSelectedListener.onItemSelected(loopView.getSelectedItem(),loopView.getSelectedIndex()); + try { + loopView.onItemSelectedListener.onItemSelected(loopView.getSelectedItem(), loopView.getSelectedIndex()); + } catch (Exception e) { + e.printStackTrace(); + } } } åŸå› æ˜¯ å®‰å“buildä¹‹åçš„äº§ç‰©ï¼Œåœ¨æ‰§è¡Œnpx patch-package ...æ—¶ è¢«è«åå…¶å¦™å¸¦è¿›å»äº† è§£å†³æ–¹æ¡ˆ æ–¹æ³•1 å¯ä»¥æŠŠæ”¹åçš„æ–‡ä»¶æ‹·è´å‡ºæ¥ï¼Œå°†ä¸‰æ–¹åº“åˆ äº†é‡è£…ï¼Œå†è¦†ç›– æ‹·è´çš„æ–‡ä»¶ï¼Œå†æ‰§è¡Œnpx patch-package ... æ–¹æ³•2 ä½¿ç”¨ç»å¯¹è·¯å¾„ npx patch-package react-native-xx --include 'file1|file2' ","date":"2023-11-01","objectID":"/tool-npm-patch/:4:2","tags":["tool","npm"],"title":"patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨","uri":"/tool-npm-patch/"},{"categories":["react-native"],"content":"\u2028","date":"2023-11-01","objectID":"/vscode-efficient/:0:0","tags":["tool","react-native"],"title":"React Native åœ¨VSCodeç¼–ç ææ•ˆ","uri":"/vscode-efficient/"},{"categories":["react-native"],"content":"æ’ä»¶ ä»£ç æ™ºèƒ½æç¤º copilot è§¦å‘å†…è”å»ºè®® Option (âŒ¥)+\\ https://docs.github.com/zh/copilot/configuring-github-copilot/configuring-github-copilot-in-your-environment?tool=vscode#keyboard-shortcuts-for-macos (é”®è”æç¤º)ä»£ç ç‰‡æ®µ ES7+ React/Redux/React-Native snippets massCode assistant (é…åˆæ‰“å¼€massCode Appä½¿ç”¨) æ ‡ç­¾ä¿®æ”¹ è‡ªåŠ¨é¦–å°¾åŒæ­¥ Auto Rename Tag æ‹¼å†™æ£€æµ‹ Code Spell Checker æ ¼å¼åŒ– prettier æå‡é˜…è¯»æ„Ÿå— Gitlens æ‚¬åœæŸ¥çœ‹ä»£ç æ”¹åŠ¨äºº Material Icon Theme / vscode-icons ä¾§è¾¹å¯¼èˆªåŒº ç›®å½•å±•ç¤ºicon indent-rainbow æ ‡ç­¾å¼€é—­è¿çº¿ Image Preview åœ¨å›¾ç‰‡è·¯å¾„å¼•ç”¨è¡Œ å·¦ä¾§å±•ç¤ºicon ","date":"2023-11-01","objectID":"/vscode-efficient/:1:0","tags":["tool","react-native"],"title":"React Native åœ¨VSCodeç¼–ç ææ•ˆ","uri":"/vscode-efficient/"},{"categories":["react-native"],"content":"code snippets React/Redux/React-Native snippets æŒ‡ä»¤è¯´æ˜ï¼š https://github.com/ults-io/vscode-react-javascript-snippets/blob/HEAD/docs/Snippets.md ä¼˜ç‚¹ï¼š å¯¹å¸¸ç”¨çš„hooksæ”¯æŒçš„ç®€ç›´å®Œç¾ å¯ä»¥è¯•è¯•è¾“å…¥useeff...ã€‚ ä¼šæç¤ºuseEffectSnippetï¼ŒenteråæŒ¨ä¸ªå¡«è¯ï¼Œtabåˆ‡æ¢å…‰æ ‡ï¼Œsetæ–¹æ³•è‡ªåŠ¨é©¼å³°ï¼Œç®€ç›´å®Œç¾ï¼ ä½¿ç”¨rnfesåˆ›å»ºç»„ä»¶ï¼Œä¼šæ ¹æ®æ–‡ä»¶å å‘½åç»„ä»¶ æƒ³æ ¹æ®è‹±æ–‡è®°å¿†ä¸€ä¸‹å¿«æ·æŒ‡ä»¤åç§°ï¼Œå¯ä»¥å‚è€ƒ Fullstack React/React Native snippets å¯¹å¿«æ·æŒ‡ä»¤ éƒ½æœ‰è‹±æ–‡è§£é‡Š ","date":"2023-11-01","objectID":"/vscode-efficient/:2:0","tags":["tool","react-native"],"title":"React Native åœ¨VSCodeç¼–ç ææ•ˆ","uri":"/vscode-efficient/"},{"categories":["react-native"],"content":"Macã€VSCå¿«æ·é”® ","date":"2023-11-01","objectID":"/vscode-efficient/:3:0","tags":["tool","react-native"],"title":"React Native åœ¨VSCodeç¼–ç ææ•ˆ","uri":"/vscode-efficient/"},{"categories":["react-native"],"content":"Mac ç³»ç»Ÿè‡ªå¸¦ (shift+) ctrl+ (option+\u0010\u000e) f/b (shift+) ctrl+ p/n VSC æ›´æ”¹äº†ä¸Šè¿°å¿«æ·é”®å¯¹åº”çš„æŒ‡ä»¤ï¼Œéå¸¸ç³Ÿç³•ã€‚å¯ä»¥è°ƒæ•´ä¸‹å¦‚ä¸‹ ","date":"2023-11-01","objectID":"/vscode-efficient/:3:1","tags":["tool","react-native"],"title":"React Native åœ¨VSCodeç¼–ç ææ•ˆ","uri":"/vscode-efficient/"},{"categories":["react-native"],"content":"VSC Next Change ï¼ˆImportantï¼‰ terminalã€editoräº’åˆ‡ focusåˆ°ç»ˆç«¯: cmd+j focusåˆ°editor: (ctrl+)shift+tab cmd+1 å…‰æ ‡ç§»åŠ¨åˆ°å‡½æ•°å¤´å°¾ã€æ ‡ç­¾å¤´å°¾ cmd+shift+\\: è·³è½¬è‡³{ }ã€è·³è½¬è‡³\u003c \u003e é€‰ä¸­ æ‹¬å·å†…ä»£ç  æ”¯æŒä¸æ–­ æ‰©å¼ /æ”¶ç¼© é€‰ä¸­ { \"key\": \"ctrl+s\", \"command\": \"editor.action.smartSelect.expand\", \"when\": \"editorTextFocus\" }, { \"key\": \"ctrl+shift+s\", \"command\": \"editor.action.smartSelect.shrink\", \"when\": \"editorTextFocus\" }, å…‰æ ‡ç§»åŠ¨å¤šè¡Œ æ’ä»¶line-jumper é…æˆ(shift+)ctrl+option+p/n æ’ä»¶Space Block Jumper è·³è½¬åˆ°ä¸´è¿‘çš„ç©ºè¡Œ(é€‰ä¸­) å±…ç„¶æ— æ³•è®¾ç½® è¿™å‡ ä¸ªé”®ç»„åˆctrl+cmd+p Next Problem cmd+(shift+)' å¸¸ç”¨äºå†™ä»£ç æ—¶è¦importï¼Œæ•…æ„å†™errorï¼Œç„¶ååœ¨é¡¶éƒ¨importç»“æŸåï¼Œå†å¿«é€Ÿè·³å›errorå¤„ç»§ç»­å†™ä»£ç  å¯¼èˆªåŒº(explorer view)å®šä½å½“å‰ç¼–è¾‘æ–‡ä»¶ { \"key\": \"shift+cmd+j\", \"command\": \"workbench.files.action.showActiveFileInExplorer\", \"when\": \"editorFocus\" } å…¶å®ƒæ›´æ”¹VSCodeçš„è‡ªå®šä¹‰å¿«æ·é”® æ›´æ–°äº 2023.07.26 keybindings è¿™æ˜¯ä¸€ä»½æˆ‘å¸¸ç”¨çš„ã€å¥½ç”¨çš„VSCè‡ªå®šä¹‰å¿«æ·é”®å¤‡ä»½ã€‚ ä¸ºä»€ä¹ˆè¦æ”¹ï¼Ÿ å› ä¸ºï¼Œå½“Macçš„å¿«æ·é”®ä¸VSCå†²çªæ—¶ï¼Œå½“å¥½ç”¨çš„æ’ä»¶å¿«æ·é”®ä¸VSCå†²çªæ—¶ï¼Œå½“VSCè‡ªå¸¦çš„å¿«æ·é”®å¤±çµæ—¶ï¼Œä¸€èˆ¬å°±éœ€è¦æ›´æ”¹VSCçš„ keybindings.jsonæ–‡ä»¶äº† ","date":"2023-11-01","objectID":"/vscode-efficient/:3:2","tags":["tool","react-native"],"title":"React Native åœ¨VSCodeç¼–ç ææ•ˆ","uri":"/vscode-efficient/"},{"categories":["react-native"],"content":"ä¸€äº›ä¸šåŠ¡çš„æœ€ä½³å®è·µæ¢ç´¢ åŸºç¡€ç»„ä»¶å°è£… ç€‘å¸ƒæµåˆ—è¡¨baseç»„ä»¶ å›¾ç‰‡baseç»„ä»¶ â€¦ å®ç° æ¨¡ä»¿æŠ–éŸ³ã€å°çº¢ä¹¦ è¾“å…¥ #æ ‡ç­¾ é«˜äº® ç€‘å¸ƒæµåˆ—è¡¨ ç€‘å¸ƒæµæœ€ä½³å®è·µï¼šåŒåˆ—å‡åŒ€åˆ†å¸ƒï¼Œé«˜åº¦è®¡ç®—\u0026ç¼“å­˜ å®ç° ç€‘å¸ƒæµåˆ—è¡¨Â·è‡ªåŠ¨æ»šåŠ¨åŠ¨ç”» å®ç° æ¨ªå‘Â·ç€‘å¸ƒæµåˆ—è¡¨ å®ç° ä»¿æŠ–éŸ³/å°çº¢ä¹¦ å¯¹è´´å›¾/è´´å­— è¿›è¡Œæ‹–æ‹½ã€ç¼©æ”¾ã€æ—‹è½¬ç­‰å¤æ‚æ‰‹åŠ¿ å°è£…ä¸€ä¸ª æ˜“ç”¨çš„ã€è¿œç¨‹å­—ä½“åŠ¨æ€ä¸‹è½½\u0026åº”ç”¨ç»„ä»¶ å°è£…ä¸€ä¸ª ä½è€¦åˆã€æ˜“ç”¨çš„æ–‡æœ¬è¾“å…¥æ¡†å¼¹çª— å®ç° å·®ä¸å¤šç†æƒ³çš„æç®€RNå¼¹çª— æœ€ä½³å®è·µ ç‚¹èµ(æ”¶è—ç­‰)çŠ¶æ€çš„å…¨å±€åŒæ­¥æ›´æ–° å®è·µ åˆ—è¡¨Itemç²¾ç¡®æ›å…‰åŸ‹ç‚¹ [todo] å®è·µ å¤štabå¤šåˆ—è¡¨æ»‘åŠ¨å¸é¡¶æ•ˆæœ [todo] å®è·µ æœåŠ¡ç«¯ä¸‹å‘è‡ªå®šä¹‰ç»„ä»¶ä»£ç  å‰ç«¯æ¥æ”¶\u0026æ¸²æŸ“[todo] å®è·µ æ‹†åŒ… [todo] ","date":"2023-11-01","objectID":"/readme/:1:0","tags":["contribution","react-native"],"title":"React Native å¼€å‘æ²‰æ·€","uri":"/readme/"},{"categories":["react-native"],"content":"ç»„ä»¶åº“ æ˜“ç”¨çš„åº”ç”¨è¿œç¨‹å­—ä½“çš„textç»„ä»¶åº“ - react-native-remote-font ","date":"2023-11-01","objectID":"/readme/:2:0","tags":["contribution","react-native"],"title":"React Native å¼€å‘æ²‰æ·€","uri":"/readme/"},{"categories":["react-native"],"content":"å…¶å®ƒï¼ˆææ•ˆã€å·¥å…·ã€å­¦ä¹ â€¦) æ¢ç©¶ ä»£ç è§„èŒƒ React Native ç¼–ç ææ•ˆ on VSCode ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm(å«è¸å‘è®°å½•) è´¡çŒ®ç»™react-nativeçš„ç¬¬ä¸€ä¸ªPR Reactå­¦ä¹ æ”¶è· å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®° å¸¸ç”¨hooksä¾èµ–æ£€æŸ¥ï¼Œä»æºå¤´æé†’é¿å…å¥‡è‘©bug â€¦ npm å¥½ç”¨å·¥å…· patch-package è¡¥ä¸å·¥å…·ä½¿ç”¨ â€¦ ä»0åˆ°1ç”¨Jenkinså®ç°å¯¹RNé¡¹ç›®ä¸€é”®æ‰“åŒ…ã€å‘å¸ƒ ","date":"2023-11-01","objectID":"/readme/:3:0","tags":["contribution","react-native"],"title":"React Native å¼€å‘æ²‰æ·€","uri":"/readme/"},{"categories":["react"],"content":" å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®° hookså¼€å‘å·¥å…· å¸¸ç”¨hooksä¾èµ–æ£€æŸ¥ï¼Œä»æºå¤´æé†’é¿å…å¥‡è‘©bug[todo] â€¦ ","date":"2023-11-01","objectID":"/course-react/:0:0","tags":["learn","react"],"title":"React å­¦ä¹ ","uri":"/course-react/"},{"categories":["react-native"],"content":"éœ€æ±‚ ä»¿æŠ–éŸ³ã€å°çº¢ä¹¦ï¼Œå›¾ç‰‡è§†é¢‘ç¼–è¾‘åŒºï¼Œè´´å›¾ã€è´´æ–‡å­—åŠŸèƒ½ Viewæ”¯æŒæ‹–æ‹½ Viewå³ä¸‹è§’æœ‰ä¸€ä¸ªiconæ¯”è¾ƒç‰¹æ®Šï¼Œè¯¥iconå¯æ§åˆ¶Viewç¼©æ”¾ iconéšæ‰‹æŒ‡ç§»åŠ¨ Viewç¼©æ”¾ï¼ˆä»¥Viewä¸­å¿ƒç‚¹ä¸ºåœ†å¿ƒï¼‰ Viewä¼šæ—‹è½¬ï¼ˆä»¥Viewä¸ºä¸­å¿ƒç‚¹ä¸ºåœ†å¿ƒï¼‰ iconä½ç½®ä¸€ç›´ä¿æŒåœ¨Viewå³ä¸‹è§’ Viewæ”¯æŒåŒæŒ‡æ è¿›è¡Œç¼©æ”¾ æ•ˆæœå›¾ ","date":"2023-11-01","objectID":"/multi-gestture-sticker/:1:0","tags":["best-practice","react-native"],"title":"RN åŠ¨ç”» - ç¼©æ”¾ã€æ—‹è½¬ã€æ‹–æ‹½","uri":"/multi-gestture-sticker/"},{"categories":["react-native"],"content":"æºç  HBMultiGestureView.js calculator.js CornerToolGestureView.js ","date":"2023-11-01","objectID":"/multi-gestture-sticker/:2:0","tags":["best-practice","react-native"],"title":"RN åŠ¨ç”» - ç¼©æ”¾ã€æ—‹è½¬ã€æ‹–æ‹½","uri":"/multi-gestture-sticker/"},{"categories":["react-native"],"content":"è§£è¯» HBMultiGestureView.js ä½¿ç”¨çš„ä»€ä¹ˆæ‰‹åŠ¿apiï¼Ÿ é€šè¿‡PanResponderä¸ºAnimted.Viewæ·»åŠ æ‰‹åŠ¿ å°†ä¸åŒçš„æ‰‹åŠ¿æ“ä½œ å¤„ç†ä¸ºæ‹–æ‹½ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰UIè¡¨ç°ï¼Œä»å“ªç€æ‰‹ï¼Ÿ é€šè¿‡æ‰‹åŠ¿å›è°ƒonPanResponderGrantã€onPanResponderMoveã€onPanResponderReleaseå» å¦‚ä½•åˆ¤æ–­ ç¡®å®šæ˜¯å¦æ“ä½œçš„å³ä¸‹è§’ç‰¹æ®Šiconè§†å›¾ï¼Ÿ å³ä¸‹è§’icon onLoadåï¼Œæ‹¿åˆ°targetï¼Œé€šè¿‡å…¥å‚rotateScaleTargetRefä¼ é€’ç»™HBMultiGestureViewï¼ŒHBMultiGestureViewå†… é€šè¿‡æ‰‹åŠ¿å›è°ƒå‚æ•°ä¸­çš„e.nativeEvent.targetè·å–æ‰€æ“ä½œçš„è§†å›¾targetï¼Œæ¯”è¾ƒåˆ¤æ–­æ˜¯å¦ç›¸ç­‰ ","date":"2023-11-01","objectID":"/multi-gestture-sticker/:2:1","tags":["best-practice","react-native"],"title":"RN åŠ¨ç”» - ç¼©æ”¾ã€æ—‹è½¬ã€æ‹–æ‹½","uri":"/multi-gestture-sticker/"},{"categories":["react-native"],"content":"è§£è¯» calculator.js é‡Œé¢éƒ½æ˜¯å…¬å¼å‡½æ•°ï¼Œç”¨åœ¨HBMultiGestureView.js ä¸­ï¼Œå¤„ç†è¿™äº›æ ¸å¿ƒè®¡ç®—ï¼š è®¡ç®—ä¸¤æŒ‡è¿æˆçš„ç›´çº¿ç§»åŠ¨åçš„ è§’åº¦ï¼Œ ä»è€Œç¡®å®š åŒæŒ‡æ“ä½œæ—¶çš„æ—‹è½¬è§’åº¦ è®¡ç®—ä¸¤æŒ‡ç§»åŠ¨åä¸ç§»åŠ¨å‰ç›¸æ¯” ä¸¤æŒ‡è¿çº¿çš„å€æ•°å…³ç³»ï¼Œ ä»è€Œç¡®å®š åŒæŒ‡æ“ä½œæ—¶çš„æ”¾å¤§å€æ•° è®¡ç®—Aç‚¹ã€åˆå§‹è§¦æ‘¸ä½ç½®Bç‚¹ã€å½“å‰è§¦æ‘¸ä½ç½®Cç‚¹ï¼Œè®¡ç®—AC/ABæ”¾å¤§æ¯”ä¾‹ï¼Œ ä»è€Œç¡®å®šå•æŒ‡æ‹–åŠ¨å³ä¸‹è§’æŒ‰é’®æ—¶çš„æ”¾å¤§å€æ•° æ³¨ï¼šAç‚¹ï¼Œå³è§¦æ‘¸å¼€å§‹æ—¶ è§†å›¾çš„ä¸­å¿ƒä½ç½® è®¡ç®—å‘é‡ACä¸ABçš„å¤¹è§’ï¼Œ ä»è€Œç¡®å®šå•æŒ‡æ‹–åŠ¨å³ä¸‹è§’æŒ‰é’®æ—¶çš„æ—‹è½¬è§’åº¦ ","date":"2023-11-01","objectID":"/multi-gestture-sticker/:2:2","tags":["best-practice","react-native"],"title":"RN åŠ¨ç”» - ç¼©æ”¾ã€æ—‹è½¬ã€æ‹–æ‹½","uri":"/multi-gestture-sticker/"},{"categories":["react-native"],"content":"è§£è¯» CornerToolGestureView.js CornerToolGestureViewï¼Œæ˜¯å››ä¸ªè§’è½æºå¸¦å·¥å…·æŒ‰é’®çš„æ‰‹åŠ¿è§†å›¾ åŸºäºHBMultiGestureViewå°è£…çš„ï¼Œæ‰€ä»¥å¼€å‘æ—¶çœŸæ­£ç”¨çš„æ˜¯è¿™ä¸ªCornerToolGestureView HBMultiGestureViewå°±ç±»ä¼¼ä¸€ä¸ªä¸‰æ–¹åº“ï¼Œä¸æ˜¯é¢å‘å…·ä½“ä¸šåŠ¡çš„ï¼Œä¿—è¯è¯´å°±æ˜¯ï¼Œå¼€å‘æ—¶ç›´æ¥ç”¨å®ƒå»ç»„è£…UI ä¸å¤Ÿç®€å•ï¼Œäºæ˜¯å°è£…ä¸ºæ›´å¥½ç”¨çš„ç»„ä»¶CornerToolGestureViewï¼Œç”¨äºå„ä¸ªåœ°æ–¹ã€‚ å°±åƒæ˜¯react-native-fast-imageï¼Œæˆ‘ä»¬å¹¶ä¸åœ¨å¼€å‘åŠŸèƒ½æ—¶ç›´æ¥ç”¨å®ƒï¼Œå¾€å¾€ä¼šå¯¹è¿™ä¸ªä¸‰æ–¹ç»„ä»¶å°è£…ä¸€å±‚(e.g.å¢åŠ äº†è®¾ç½®errorå ä½å›¾èƒ½åŠ›)ï¼Œå†å»ç”¨äºå„ä¸ªåœ°æ–¹ï¼Œæ¯”å¦‚ æˆ‘ä»¬å°è£…çš„å›¾ç‰‡baseç»„ä»¶ ","date":"2023-11-01","objectID":"/multi-gestture-sticker/:2:3","tags":["best-practice","react-native"],"title":"RN åŠ¨ç”» - ç¼©æ”¾ã€æ—‹è½¬ã€æ‹–æ‹½","uri":"/multi-gestture-sticker/"},{"categories":["react-native"],"content":"Jenkins for iOSï¼ˆç¬¬äºŒæ¬¡æ­å»ºè®°å½•ï¼‰ ","date":"2023-11-01","objectID":"/tool-rn-jenkins-ios/:0:0","tags":["tool","react-native","ios"],"title":"ä»0åˆ°1ç”¨Jenkinså®ç°å¯¹RNé¡¹ç›®ä¸€é”®æ‰“åŒ…ã€å‘å¸ƒ","uri":"/tool-rn-jenkins-ios/"},{"categories":["react-native"],"content":"è¿è¡Œç¯å¢ƒæ­å»ºï¼ˆç®€ç•¥ç‰ˆï¼‰ ä¸‹è½½ jenkins.war jdk8 è¿è¡Œjenkins é¦–æ¬¡è®¾ç½®è´¦æˆ·ä¿¡æ¯ï¼ˆå¤‡å¿˜ï¼‰ è´¦æˆ·: admin å¯†ç : admin ","date":"2023-11-01","objectID":"/tool-rn-jenkins-ios/:1:0","tags":["tool","react-native","ios"],"title":"ä»0åˆ°1ç”¨Jenkinså®ç°å¯¹RNé¡¹ç›®ä¸€é”®æ‰“åŒ…ã€å‘å¸ƒ","uri":"/tool-rn-jenkins-ios/"},{"categories":["react-native"],"content":"å»ºJob \u0026 é…ç½® å»ºç¬¬ä¸€ä¸ªJob è®¾ç½®Git æ·»åŠ git åœ°å€ æ·»åŠ sshå‡­æ®ã€æ³¨æ„ã€‘ è´¦å·ï¼šç”Ÿæˆsshæ—¶çš„é‚®ç®±(~/.ssh/id_rsa.pub æœ€æœ«å°¾å¯è§ï¼‰ å¯†ç ï¼šsshç§˜é’¥ï¼ˆå–äº ~/.ssh/id_rsaï¼‰ é…ç½® è„šæœ¬ #!/bin/bash -il echo 'Hi, start building ...' pwd whoami export LANG=en_US.UTF-8 export LANGUAGE=en_US.UTF-8 export LC_ALL=en_US.UTF-8 #å·¥ç¨‹ç¯å¢ƒè·¯å¾„ workspace_path=. #é¡¹ç›®åç§° project_name=myApp #ipa æ‰€å­˜æ”¾çš„æ–‡ä»¶å¤¹ ipaPath=\"ipa\" echo \"ç¬¬ä¸€æ­¥ï¼Œæ›´æ–°åº“æ–‡ä»¶\" yarn cd ios /usr/local/bin/pod install --verbose --no-repo-update echo \"ç¬¬äºŒæ­¥ï¼Œæ¸…é™¤ç¼“å­˜æ–‡ä»¶....................\" xcodebuild clean rm -rf archive rm -f $ipaPath/$project_name.ipa echo \"ç¬¬ä¸‰æ­¥ï¼Œè®¾ç½®æ‰“åŒ…ç¯å¢ƒï¼Œå‡†å¤‡å¼€å§‹æ‰“ipaåŒ…....................\" #sed -i '' 's/\\app-store\\\u003c\\/string\\\u003e/\\ad-hoc\\\u003c\\/string\\\u003e/' archieveOpt.plist #sed -i '' 's/ProvisioningStyle = Automatic;/ProvisioningStyle = Manual;/' $project_name.xcodeproj/project.pbxproj echo \"ç¬¬å››æ­¥ï¼Œæ‰§è¡Œç¼–è¯‘ç”Ÿæˆ.appå‘½ä»¤\" #è§£å†³main.jsbundleæ‰¾ä¸åˆ°çš„é—®é¢˜ yarn build:ios xcodebuild archive -workspace $project_name.xcworkspace -scheme $project_name -configuration Release -archivePath archive/$project_name.xcarchive #CODE_SIGN_IDENTITY=\"iPhone Distribution: Beijing Maihuo Technology Co., Ltd. (HFNWKQ65UU)\" PROVISIONING_PROFILE_SPECIFIER=\"093cc99a-e0ce-47fb-a14d-ba1a0f5a290d.mobileprovision\" echo \"ç¬¬äº”æ­¥ï¼Œæ‰§è¡Œç¼–è¯‘ç”Ÿæˆ.ipaå‘½ä»¤\" xcodebuild -exportArchive -exportOptionsPlist archieveOpt.plist -archivePath archive/$project_name.xcarchive -exportPath $ipaPath -configuration Release #æ”¹å â€œæˆ‘çš„åº”ç”¨.ipaâ€ ä¸º \"myApp.ipa\" mv ${ipaPath}/*.ipa ${ipaPath}/${project_name}.ipa echo \"ç¬¬å…­æ­¥ï¼Œä¸Šä¼ ipaåˆ°è’²å…¬è‹±\" curl -F \"file=@${ipaPath}/${project_name}.ipa\" -F \"uKey=get_uKey_from_pgyer\" -F \"_api_key=get_api_key_from_pgyer\" https://www.pgyer.com/apiv1/app/upload å…¶ä¸­ï¼Œè„šæœ¬çš„æœ€åéƒ¨åˆ†æ˜¯ ä¸Šä¼ è’²å…¬è‹±ã€‚å‚ç…§è’²å…¬è‹±å®˜ç½‘æ•™ç¨‹è·å– get_uKey_from_pgyerï¼Œget_api_key_from_pgyer å»å§ã€‚ åˆ°è¿™é‡Œå°±å¯ä»¥ç»“æŸäº†ã€‚å½“ç„¶ï¼Œå¦‚æœå®šåˆ¶æ›´å¤šåŠŸèƒ½ï¼Œä¼˜åŒ–æµç¨‹ï¼Œå¯ä»¥ç»§ç»­çœ‹ä¸‹å»ã€‚ é…ç½® é’‰é’‰é€šçŸ¥ å‚è€ƒ: Jenkinsé…ç½®é’‰é’‰é€šçŸ¥ æŒ‰ç…§ğŸ‘†é’‰é’‰ç¾¤é‡Œæœºå™¨äººçš„è®¾ç½®ï¼ŒæŒ¨ä¸ªé…ç½®åˆ°jenkinsçš„é’‰é’‰é€šçŸ¥æ’ä»¶é‡ŒğŸ‘‡ ç„¶åï¼Œå¯¹æŸä¸ªJobæ·»åŠ  é’‰é’‰é€šçŸ¥ğŸ‘‡ é…ç½® buildå‰é€‰æ‹©tag å®‰è£… Git Parameteræ’ä»¶ ç„¶åå¾€Jobé‡Œè®¾ç½® æœ€åï¼Œå¯ä»¥æ„‰å¿«çš„ä½¿ç”¨äº†ï¼Œç®€å•å‚»ç“œå¼ç‚¹å‡»ï¼Œå³å¯å®ç° æ‹‰å–å¯¹åº”tagä»£ç ã€æ‰“åŒ…ã€ä¸Šä¼ åˆ°è’²å…¬è‹±ï¼Œå¹¶ä¸”é€šçŸ¥åˆ°é’‰é’‰ç¾¤äº†ã€‚ ","date":"2023-11-01","objectID":"/tool-rn-jenkins-ios/:2:0","tags":["tool","react-native","ios"],"title":"ä»0åˆ°1ç”¨Jenkinså®ç°å¯¹RNé¡¹ç›®ä¸€é”®æ‰“åŒ…ã€å‘å¸ƒ","uri":"/tool-rn-jenkins-ios/"},{"categories":["react-native"],"content":"é”™è¯¯è®°å½• Qï¼šä¸¤ä¸ªJobé¦–æ¬¡åœ¨jenkinsæ‰§è¡Œbuildï¼Œå‡å‡ºç° æ‰“åŒ…å¤±è´¥ diff: /Podfile.lock: No such file or directory diff: /Manifest.lock: No such file or directory error: The sandbox is not in sync with the Podfile.lock. Run 'pod install' or update your CocoaPods installation. ** ARCHIVE FAILED ** R: é€šè¿‡ios/Pods/ å¯ä»¥å‘ç°ï¼Œä¸‰æ–¹åº“ä¸å…¨ã€‚å¾€å¾€éœ€è¦å¤šè¯•å‡ æ¬¡ï¼Œæ‰èƒ½é›†æˆå®Œã€‚ A: ç¬¬äºŒæ¬¡æ‰§è¡Œbuildï¼Œå°±okäº† Qï¼šä¸Šä¼ è’²å…¬è‹±å¤±è´¥ curl: (26) Failed to open/read local data from file/application Action: å» /ç”¨æˆ·/yestin/.jenkins/workspaceç›®å½•ä¸‹ï¼Œå‘ç°ios/ä¸‹çš„ipaæ–‡ä»¶åæ˜¯ æˆ‘çš„åº”ç”¨.ipaï¼Œå¹¶ä¸æ˜¯myApp.ipaï¼Œè«éæ˜¯è¿™ä¸ªå½±å“ï¼Ÿ æœç„¶å°±æ˜¯ã€‚å› ä¸ºxcodebuild -exportArchiveä¸æ”¯æŒç›´æ¥å¯¹ipaåŒ…å‘½åï¼Œå¯èƒ½è¦ç»“åˆXcodeæŸä¸ªè®¾ç½®ã€‚ A: å…ˆæ‰¾ç®€å•æ–¹æ³•è§£å†³å§ğŸ‘‡ï¼Œå‘½ä»¤ æ›´æ”¹æ–‡ä»¶å #æ”¹å â€œæˆ‘çš„åº”ç”¨.ipaâ€ ä¸º \"myApp.ipa\" mv ${ipaPath}/*.ipa ${ipaPath}/${project_name}.ipa echo \"ç¬¬å…­æ­¥ï¼Œä¸Šä¼ ipaåˆ°è’²å…¬è‹±\" curl -F \"file=@${ipaPath}/${project_name}.ipa\" -F \"uKey=e2ff6a115f6763483e2559741d20e06f\" -F \"_api_key=3352a89fc193379c982ae1ad51444103\" https://www.pgyer.com/apiv1/app/upload ","date":"2023-11-01","objectID":"/tool-rn-jenkins-ios/:3:0","tags":["tool","react-native","ios"],"title":"ä»0åˆ°1ç”¨Jenkinså®ç°å¯¹RNé¡¹ç›®ä¸€é”®æ‰“åŒ…ã€å‘å¸ƒ","uri":"/tool-rn-jenkins-ios/"},{"categories":["react-native"],"content":"å…¶å®ƒ è¿™å“¥ä»¬ æä¾›äº†è¾ƒè¯¦ç»†çš„è„šæœ¬ï¼Œè¦åšçš„æ›´å¤æ‚å¯ä»¥å‚è€ƒä¸‹~ ","date":"2023-11-01","objectID":"/tool-rn-jenkins-ios/:4:0","tags":["tool","react-native","ios"],"title":"ä»0åˆ°1ç”¨Jenkinså®ç°å¯¹RNé¡¹ç›®ä¸€é”®æ‰“åŒ…ã€å‘å¸ƒ","uri":"/tool-rn-jenkins-ios/"},{"categories":["code"],"content":"è®¨è®ºèƒŒæ™¯ ç›¸ä¿¡å¤§å®¶å†™ä»£ç æ—¶ å¯¹è‡ªå·±éƒ½æœ‰ä¸€äº›è¦æ±‚ï¼Œæ¯”å¦‚ä¸‹é¢çš„ åŸºæœ¬æœŸæœ›ï¼šå†™å‡ºä»–äººèƒ½å®¹æ˜“çœ‹æ‡‚çš„ä»£ç  æ›´é«˜è¿½æ±‚ï¼šå†™å‡ºä»–äººçœ‹èµ·æ¥å¾ˆçˆ½çš„ä»£ç  æ¯ç»å†ä¸€ä¸ªé˜¶æ®µï¼Œå¤§å®¶éƒ½å¯¹ç¼–ç æœ‰ä¸åŒç¨‹åº¦çš„è¿›æ­¥æå‡ï¼Œå¯ä»¥åˆ†äº«ï¼›åŒæ—¶ä¹Ÿä¼šç§¯ç´¯ä¸€äº›åœºæ™¯ä¸‹ä»£ç å¦‚å±çš„çƒ¦æ¼ï¼Œæƒ³è¦ç ´å±€ã€‚ äºæ˜¯ï¼Œé˜¶æ®µæ€§çš„ï¼Œéœ€è¦ä¸€ä¸ªæœºä¼šï¼Œå¤§å®¶å¼€ä¸ªäº¤æµä¼šè¿›è¡Œè®¨è®º ï¼ˆå¯¹äºæ¯ä¸ªä¸ªä½“ï¼‰äº’é€šæœ‰æ— ï¼Œé›†æ€å¹¿ç›Šï¼Œå›¢é˜Ÿæ¯äººéƒ½æœ‰æ‰€æå‡ ï¼ˆå¯¹äºäº’ç›¸ä¹‹é—´åä½œï¼‰æ›´å¤šåœ°äº†è§£åˆ°å½¼æ­¤ é˜…è¯»ä»£ç ã€å†™ä»£ç çš„é£æ ¼ä¹ æƒ¯ï¼Œå¢è¿›ç†è§£ ï¼ˆå¯¹äºå·¥ä½œï¼‰å¯¹ç°é˜¶æ®µé‡åˆ°çš„ç—›ç‚¹ï¼Œæ‰¾å‡ºæ›´ä¼˜è§£ï¼Œæˆ–åˆ¶å®šè°ƒç ”è®¡åˆ’ æ¯æ¬¡è®¨è®ºï¼Œè§„èŒƒæ¡æ¬¾ä¸Šçš„æ”¶è·ï¼Œä¸åœ¨äºå¤šå°‘ï¼Œè‡³å°‘ä¼šæ”¶è·äº†ä¸€äº›ä»£ç ç»†èŠ‚ä¸Šçš„æŠ€å·§æˆ–è®¤çŸ¥ï¼Œæœ€é‡è¦çš„æ˜¯ å¤§å¤§å¢è¿›äº†äº’ç›¸çš„äº†è§£ï¼Œåä½œèµ·æ¥å°†è¶Šæ¥è¶Šç´§å¯†é¡ºç•…ã€‚ è®¨è®ºæˆæœ ","date":"2023-11-01","objectID":"/code-standards/:0:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"ç»„ä»¶ä»£ç ç»“æ„ å…³é”®ç‚¹: æ‰“å¼€æ–‡ä»¶åï¼Œæ›´æ–¹ä¾¿çš„çœ‹åˆ°æ ¸å¿ƒä»£ç ï¼ˆé‚£å°±å°½é‡é å‰å’¯ï¼‰ ä¹Ÿå°±æ˜¯ render/returnç»„ä»¶ ä¹‹å‰çš„ä»£ç é‡å°½å¯èƒ½å°‘ï¼›é‚£ä¹ˆï¼Œå°±éœ€è¦é€šè¿‡å‡½æ•°æç‚¼ã€åˆ’åˆ†èŒè´£ç­‰æ–¹å¼è½¬ç§»åˆ°åˆ«å¤„ã€‚ ç»„ä»¶ä»£ç  ä¹¦å†™é¡ºåº ç¤ºä¾‹å¦‚ä¸‹ // AAView.js import { xxCalculate, xxUploadEvent } from 'app/components/XxModule' import AView from './components/AView' import BView from './components/BView' //$$ ç”¨äºç»„ä»¶å‡½æ•°å†…çš„å˜é‡ ç´§é‚»å†™åœ¨ç»„ä»¶å‡½æ•°ä¸Šæ–¹ const variableUsedInXXComp = ... //ç»„ä»¶å‡½æ•° const AAView = props =\u003e { //$$ propsè§£æ„, æ”¾ç¬¬ä¸€è¡Œ ///reasonï¼šå³ä½¿AAViewä¸Šé¢ä¸å†™@paramæ³¨é‡Šï¼Œé€šè¿‡è¿™é‡Œçš„è§£æ„ä¹Ÿèƒ½çœ‹å‡ºpropsçš„å‚æ•° const { paramA, paramB } = props //$$ å‰¯ä½œç”¨å‡½æ•°(å³useå¼€å¤´çš„å‡½æ•°)ï¼Œå†™åœ¨é¡¶å±‚ä½œç”¨åŸŸï¼Œ const [aEverClicked, setAEverClicked] = useState(false) const [bClickedTime, setBClickedTime] = useState(0) ... //$$ å½’ç±»é€»è¾‘ä»£ç åˆ°hooksï¼Œe.g. æ•°æ®å¤„ç†ï¼ˆè·å–æ•°æ®ã€æ›´æ–°æ•°æ®ï¼‰èšåˆåˆ°ä¸€ä¸ªhooksï¼Œ æ»‘åŠ¨ç›¸å…³ç›‘å¬å¤„ç† èšåˆåˆ°å¦ä¸€ä¸ªhooks const {loading, data, error, addData, updateData} = useLoadData({id: paramA}) ... //$$ ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚ æ³¨æ„ï¼šå¦‚æœè¿™éƒ¨åˆ†ä»£ç è¾ƒå¤šï¼Œä¸€èˆ¬æ˜¯å¯ä»¥è½¬ç§»å‡ ä¸ªapiï¼ŒæŒªåˆ° æŸå•ä¸€èŒè´£çš„hooksé‡Œå» const onPressAView = () =\u003e { //å¦‚æœå¤æ‚é€»è¾‘(å¤šè¡Œ e.g. 15è¡Œ)ï¼ŒæŠ½å–çº¯å‡½æ•°ï¼Œ ä¸XXCompå¹¶åˆ— æ”¾å…¶åé¢ addData( calculateAndCreateItemData(inputX, bClickedTime) ) setAEverClicked(true) xxUploadEvent() } const onPressBView = () =\u003e { //ç®€å•é€»è¾‘(e.g. \u003c10è¡Œ)ï¼Œç›´æ¥å†™åœ¨è¿™é‡Œ updateData({ count: bClickedTime, key: variableUsedInXXComp }) ... setBClickedTime(bClickedTime+1) } ... ... //$$ render return ( \u003cView style={styles.container}\u003e \u003cAView onPress={onPressAView}\u003e {aEverClicked ? \u003cView\u003e ... \u003c/View\u003e : null } ... \u003c/AView\u003e \u003cBView param={inputY} onPress={onPressBView}\u003e ... \u003c/BView\u003e ... { data?.map(item =\u003e (\u003cView style={styles.content}}\u003e \u003cText style={styles.title}\u003e{styles.title}\u003c/Text\u003e \u003cImage style={styles.cover} source={data[0].cover} /\u003e \u003c/View\u003e)) } \u003c/View\u003e ) } //$$ hooks æ•°æ®è·å–ç›¸å…³é€»è¾‘ï¼šè¯·æ±‚ã€loadingçŠ¶æ€ã€é”™è¯¯ã€æ•°æ®å¤„ç†(response data -\u003e UI data) const useLoadData = ({id}) =\u003e { const [data, setData] = useState(null) const [loading, setLoading] = useState(false) const [error, setError] = useState(null) useEffect(()=\u003e{ request({id}).then(res=\u003e{ setData(res.data) }); }, []) //è¯·æ±‚ return { data, loading, error ... } } //$$ ä»…ç”¨äºç»„ä»¶å†…éƒ¨çš„å‡½æ•° ç´§é‚»å†™åœ¨ç»„ä»¶å‡½æ•°ä¸‹æ–¹ const calculateAndCreateItemData = (a, b) =\u003e { let result = {} //å¤æ‚é€»è¾‘ ... ... result.count = xxCalculate(a, ...) return result } // æ–¹æ³•æç‚¼åˆ°è¿™é‡Œ reasonï¼š // 1.æç‚¼çº¯å‡½æ•°ï¼Œç•¥åˆ©äºæ€§èƒ½ // 2.ç§»åˆ°è¿™é‡Œï¼Œå‡å°‘å¯¹æ ¸å¿ƒä»£ç çš„å¹²æ‰° //$$ ä»…ç”¨äºæ ·å¼çš„å˜é‡ ç´§é‚»å†™åœ¨styleså£°æ˜çš„ä¸Šæ–¹ const listWidth = px2dp(100) const styles = StyleSheet.create({ container: { //çº¦æŸè‡ªèº« flex: 1, backgroundColor: '#eee', marginTop: px2dp(20), //çº¦æŸå­è§†å›¾çš„ paddingHorizontal: px2dp(15), flexDirection: \"row\", alignItems: \"center\", justifyContent: \"space-between\", }, list: { marginHorizontal: 10, width: listWidth, ... }, ... }) ","date":"2023-11-01","objectID":"/code-standards/:1:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"è¾ƒå¤æ‚æ¨¡å—æ‹†åˆ†åçš„ç›®å½•ç»“æ„ ç›®å½• ä½“ç°ç€æ¨¡å—åˆ’åˆ†æ€ç»´ å–é¡¹ç›®é‡Œçš„ä¸€ä¸ªå…¸å‹ç¤ºä¾‹ \u003e tree ./app/screens/graphic/tabs/userHome/ ./app/screens/graphic/tabs/userHome/ â”œâ”€â”€ components â”‚ â”œâ”€â”€ Header â”‚ â”‚ â”œâ”€â”€ BackgroundImage.js â”‚ â”‚ â”œâ”€â”€ MoreButton.js â”‚ â”‚ â”œâ”€â”€ OpaqueNavBar.js â”‚ â”‚ â”œâ”€â”€ index.js â”‚ â”‚ â””â”€â”€ useHeader.js â”‚ â”œâ”€â”€ LoadingView.js â”‚ â”œâ”€â”€ Tabbar.js â”‚ â”œâ”€â”€ TabsStickScrollView.js â”‚ â””â”€â”€ list â”‚ â”œâ”€â”€ HistoryWorkList.js â”‚ â”œâ”€â”€ LikedWorkList.js â”‚ â”œâ”€â”€ MineWorkList.js â”‚ â”œâ”€â”€ UserWorkList.js â”‚ â””â”€â”€ item â”‚ â”œâ”€â”€ UnpublishedEntryItem.js â”‚ â”œâ”€â”€ UnpublishedType.js â”‚ â””â”€â”€ index.js â”œâ”€â”€ index.js â”œâ”€â”€ otherScreens â”‚ â”œâ”€â”€ DraftScreen.js â”‚ â””â”€â”€ RejectScreen.js â””â”€â”€ utils â””â”€â”€ DraftDataManager.js åˆç†æ‹†åˆ†æ¨¡å—ï¼Œé¿å…å•æ–‡ä»¶ä»£ç è¡Œæ•°è¿‡å¤šï¼Œç»Ÿä¸€å‘½åé£æ ¼ï¼Œå°†å¤§å¤§å‡å°‘ç†è§£é˜»ç¢ ","date":"2023-11-01","objectID":"/code-standards/:2:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"é€šçŸ¥å‘½å ä»¥åä¼šå‡ºè¿™æ ·ä¸€ä¸ª é€šçŸ¥å é›†ä¸­å­˜æ”¾çš„æ–‡ä»¶ //NotificationCenter.js export { listen, emit, } // å‚è€ƒ iOSé€šçŸ¥å‘½åï¼ŒUIKeyboardWillChangeFrameNotificationï¼Œ // å‘½åè¡¨è¾¾å‡º who did (/will do) whatï¼Œï¼ˆå³å°†ï¼‰è°åšäº†ä»€ä¹ˆ //ç”»æœ¬ï¼ˆæŸä½œå“ï¼‰ç‚¹èµçŠ¶æ€æ”¹å˜ export const kGraphicLikeStatusChangeNotification = 'kGraphicLikeStatusChangeNotification'; /* ä½¿ç”¨ç¤ºä¾‹ import { emit, kGraphicLikeStatusChangeNotification } from 'app/.../NotificationCenter'; emit(kGraphicLikeStatusChangeNotification, { graphicId: 123, likeStatus: 1 }); import { listen, kGraphicLikeStatusChangeNotification } from 'app/.../NotificationCenter'; const listener = listen(kGraphicLikeStatusChangeNotification, (data) =\u003e { ... } listener.remove(); */ ","date":"2023-11-01","objectID":"/code-standards/:3:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"å•ä¸ªå‡½æ•°çš„æ€»è¡Œæ•° é™åˆ¶å¤šå¤§åˆé€‚ï¼Ÿ ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ v1.4.0ï¼ˆè¯¦å°½ç‰ˆï¼‰ã€‹ ï¼š80 è¡Œ https://edu.aliyun.com/article/103 è‹¥ç»“åˆåˆ°å’±å…¬å¸è‡ªå·±é¡¹ç›®ï¼Œ \u003c\u003e ä¸ \u003c/\u003eã€{ ä¸ } ç­‰æ ‡ç­¾çš„å¼€å§‹ã€ç»“æŸï¼ˆä½œç”¨åŸŸï¼‰å†…å°½é‡ä¸è¶…è¿‡ 80 è¡Œ ç¤ºä¾‹ä¸­çš„ç»„ä»¶å‡½æ•°AAViewæ¯”è¾ƒç‰¹æ®Šï¼Œå…¶æœ¬èº«å¯èƒ½è¶… 100 è¡Œï¼Œç”šè‡³æ›´å¤š ä¹Ÿæ²¡é—®é¢˜ã€‚å› ä¸ºå…¶å†…éƒ¨åŒ…å«å¤šä¸ªå­å‡½æ•°ã€å­ç»„ä»¶ï¼›AAViewå†…éƒ¨çš„å­å‡½æ•°ã€å­ç»„ä»¶\u003cView\u003e\u003c/View\u003eç­‰å¯ä»¥å‚è€ƒ 80 è¡Œé™åˆ¶ ã€Šä»£ç ä¸æœ½ã€‹ï¼š15 è¡Œ https://www.zhihu.com/question/280041384/answer/468623926 ä¸ºä»€ä¹ˆç¼–ç¨‹åº”éµå¾ª â€œ30â€ è§„åˆ™ https://www.infoq.cn/article/uu6zgvebe9w1ab1yqilb ã€Šä»£ç å¤§å…¨ã€‹Steve McConnell æŒ‡å‡ºï¼Œç†è®ºä¸Šï¼Œä¸€ä¸ªæ–¹æ³•æˆ–å‡½æ•°çš„æœ€ä½³æœ€å¤§é™åˆ¶æ˜¯åœ¨ä¸€ä¸ªå±å¹•ä¸Šå¯ä»¥å®¹çº³çš„è¡Œæ•°ã€‚ ","date":"2023-11-01","objectID":"/code-standards/:4:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"å•ä¸ªæ–‡ä»¶ä»£ç è¡Œæ•° é™åˆ¶å¤šå¤§åˆé€‚ï¼Ÿ æ ¸å¿ƒç‚¹ ç»´æŠ¤æˆæœ¬ï¼šé•¿è€Œå†—é•¿çš„ä»£ç é€šå¸¸æ›´éš¾ä»¥ç†è§£ã€è°ƒè¯•å’Œç»´æŠ¤ã€‚é€šè¿‡è®¾ç½®ä»£ç è¡Œæ•°é™åˆ¶ï¼Œå¯ä»¥é¼“åŠ±å¼€å‘è€…ç¼–å†™æ›´ç®€æ´ã€æ¨¡å—åŒ–çš„ä»£ç ï¼Œä»è€Œå‡å°‘ç»´æŠ¤æˆæœ¬ã€‚ ChatGPT çš„çœ‹æ³• æ˜é‡‘æ–‡ç«  çœ‹æ³• https://juejin.cn/s/ä¸€ä¸ªæ–‡ä»¶ä»£ç è¡Œæ•°ä¸è¶…è¿‡å¤šå°‘ 300~500 https://juejin.cn/s/ä¸€ä¸ªæ–‡ä»¶ä»£ç è¡Œæ•°ä¸è¶…è¿‡å¤šå°‘è¡Œ%20åä¸º 200 å…¶å®ƒçœ‹æ³• ã€ç”Ÿç†ä¸Šã€‘äººçš„è®°å¿†åªæœ‰ä¸‰å±ï¼Œ80 è¡Œé¢„è®¡åœ¨ä¸¤å±è‡³ä¸¤å±åŠä¹‹é—´ã€‚ ã€åŸåˆ™ä¸Šã€‘ä¸»å¹²é€»è¾‘æ¸…æ™°ï¼Œç®€æ´æ˜“è¯» ã€è¦çº¯ã€‘åˆæœŸä»£ç å¤šçƒ‚å…¶å®é—®é¢˜éƒ½ä¸å¤§çš„, åªè¦ä½ å‡½æ•°å…¨éƒ½æ˜¯çº¯çš„, ä»¥ååŒ–ç®€è¿˜æ˜¯æ‹†èµ·æ¥éƒ½ä¸æ˜¯é—®é¢˜. æŒ‰ç…§ã€Šé‡æ„ã€‹å»åšäº†ï¼Œå°±ä¸ä¼šå‡ºç°å•æ–‡ä»¶ä»£ç è¡Œæ•°å¤šçš„é—®é¢˜äº† ã€Šå¥½ä»£ç ï¼Œåä»£ç ã€‹ ","date":"2023-11-01","objectID":"/code-standards/:5:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"å•è¡Œä»£ç  å­—ç¬¦ä¸²å®½åº¦/æ•°é‡é™åˆ¶ ä¸Šé¢æåˆ°çš„æ–‡ä»¶ä»£ç è¡Œæ•°ã€å‡½æ•°ä»£ç è¡Œæ•°åœ¨å„å¤§å…¬å¸æ ‡å‡†ä¸­ åŸºæœ¬æ²¡æœ‰æŒ‡æ˜ï¼Œä½†ä»£ç åˆ—æ•°é™åˆ¶åˆ°æ˜¯ä¸å°‘æ ‡å‡†é‡Œ æåˆ°ã€‚ è°·æ­Œçš„Google JavaScript Style Guide 80 ","date":"2023-11-01","objectID":"/code-standards/:6:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"å…¶å®ƒ ","date":"2023-11-01","objectID":"/code-standards/:7:0","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"å¸‚é¢ä¸Š å¤§è€Œå…¨çš„ JavaScript è§„èŒƒ Airbnb JavaScript Style Guide Google JavaScript Style Guide Standard JavaScript ","date":"2023-11-01","objectID":"/code-standards/:7:1","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["code"],"content":"ä»£ç è§„èŒƒçš„å¸¸ç”¨å·¥å…· eslint prettier ","date":"2023-11-01","objectID":"/code-standards/:7:2","tags":["learn","standard","code"],"title":"ä»£ç è§„èŒƒ","uri":"/code-standards/"},{"categories":["react"],"content":"ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹å­¦ä¹  ","date":"2023-11-01","objectID":"/course-react-hooks/:0:0","tags":["learn","react"],"title":"å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®°","uri":"/course-react-hooks/"},{"categories":["react"],"content":"hooks Q: ä¸ºä»€ä¹ˆ Facebook è¦å‘æ˜React Hooksï¼ŸReact Hooks è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ A: ç®€åŒ–äº†é€»è¾‘é‡ç”¨ hooksä¹‹å‰ï¼Œå¤ç”¨é€»è¾‘è¦ç”¨åˆ°é«˜é˜¶ç»„ä»¶æˆ–è€…render props ç»„ä»¶æ¯æ¬¡æ¸²æŸ“ï¼Œå†…éƒ¨çš„å‡½æ•°ä¼šé‡æ–°åˆ›å»ºï¼Œå¯¼è‡´ æ¥æ”¶ä¼ é€’å‡½æ•°çš„å­ç»„ä»¶ ä¹Ÿé‡æ–°æ¸²æŸ“ useCallback å¯¹ç»„ä»¶é—´ä¼ é€’çš„ (å›è°ƒ)å‡½æ•° å°½é‡éƒ½åŒ…è£¹ useMemo ç¼“å­˜è®¡ç®— useCallbackï¼ŒuseMemo åªæ˜¯ä¸ºäº†é¿å… React ç»„ä»¶çš„é‡å¤æ¸²æŸ“è€Œå¯¼è‡´çš„æ€§èƒ½æŸå¤±ã€‚ è€Œå¯¹äºåŸç”Ÿçš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚ div, input è¿™äº›ï¼Œå®ƒä»¬å·²ç»æ˜¯åŸå­èŠ‚ç‚¹äº†ï¼Œä¸å†æœ‰å­èŠ‚ç‚¹ï¼Œ æ‰€ä»¥ä¸å­˜åœ¨é‡å¤åˆ·æ–°å¸¦æ¥çš„æ€§èƒ½æŸå¤±ã€‚ useEffectæ‰§è¡Œæ—¶æœºæ˜¯ DOMæ¸²æŸ“å useEffectä¸­ç”¨åˆ°çš„å˜é‡ï¼Œéœ€è¦ä½œä¸ºä¾èµ–å‚æ•° æ‹†åˆ†å¤æ‚ç»„ä»¶ï¼šä¸åŒé€»è¾‘æ‹†åˆ°ä¸åŒçš„Hooksé‡Œ Context é€‚ç”¨åœºæ™¯ï¼šä»… ä¸»é¢˜è‰²ã€è¯­è¨€åˆ‡æ¢ redux æ•°æ®å…±äº« é¿å…ä¸å¿…è¦çš„è¯·æ±‚ state ä½¿ç”¨æ³¨æ„ state é¿å…å®šä¹‰å¤šä½™çš„ï¼Œæ‰¾å”¯ä¸€æ•°æ®æºå¤´ å»å‘èµ·æ”¹å˜ ä¸Šæ¬¡åŒäº‹libinæåˆ°è¿‡è¿™ä¸ªåœºæ™¯ï¼šAä¼ å‚value1ç»™Bï¼ŒBåˆä¼ value1ç»™Cï¼ŒCé‡Œé¢èƒ½è§¦å‘æ”¹å˜value1 æ–¹æ¡ˆ1ï¼šCä¸­çš„æ“ä½œè§¦å‘value1å˜æ›´æ—¶ï¼ŒCä¸ç»´æŠ¤value1 stateï¼Œç”±Cå›è°ƒç»™Bå†å›è°ƒç»™Aï¼Œç”±Aæ”¹å˜value1ï¼Œä»è€Œé‡æ–°æ¸²æŸ“Bã€C æ–¹æ¡ˆ2ï¼šCä¸­çš„æ“ä½œè§¦å‘value1å˜æ›´æ—¶ï¼ŒCæ”¹å˜Cå†…éƒ¨çš„value1ï¼ŒåŒæ—¶å›è°ƒç»™Bã€Aå»æ›´æ–°(Cå¤–éƒ¨)å¯¹åº”çš„value1 æ ¹æ®è¿™ç¯‡æ¥çœ‹ï¼Œæ›´å€¾å‘äºæ–¹æ¡ˆ1 ã€‚é¿å…åœ¨å­ç»„ä»¶å®šä¹‰å¤šä½™çš„state(value1)ï¼Œæ‰¾å”¯ä¸€æ•°æ®æºå¤´A å»å‘èµ·æ”¹å˜ ","date":"2023-11-01","objectID":"/course-react-hooks/:1:0","tags":["learn","react"],"title":"å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®°","uri":"/course-react-hooks/"},{"categories":["react"],"content":"è®¾è®¡æ¨¡å¼ æ‰€è°“ã€Œè®¾è®¡æ¨¡å¼ã€ï¼Œå°±æ˜¯é’ˆå¯¹ç‰¹å®šåœºæ™¯ï¼Œæä¾›ä¸€ç§å…¬è®¤çš„æœ€ä½³å®è·µ ä¿è¯çŠ¶æ€çš„å”¯ä¸€æ•°æ®æº è¯­ä¹‰åŒ–çš„æ‹†åˆ†å¤æ‚ç»„ä»¶ Hooks çš„ä¸€ä¸ªé‡è¦è§„åˆ™ï¼Œå³ï¼šHooks å¿…é¡»åœ¨é¡¶å±‚ä½œç”¨åŸŸè°ƒç”¨ è€Œä¸èƒ½æ”¾åœ¨æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ç­‰è¯­å¥ä¸­ï¼ŒåŒæ—¶ä¹Ÿä¸èƒ½åœ¨å¯èƒ½çš„ return è¯­å¥ä¹‹åæ‰§è¡Œã€‚æ¢å¥è¯è¯´ï¼ŒHooks å¿…é¡»æŒ‰é¡ºåºè¢«æ‰§è¡Œåˆ°ã€‚ å®¹å™¨æ¨¡å¼ï¼ŒæŠŠæ¡ä»¶åˆ¤æ–­çš„ç»“æœæ”¾åˆ°ä¸¤ä¸ªç»„ä»¶ä¹‹ä¸­ã€‚å¯ç”¨Hooksæ›¿ä»£ function CounterRenderProps({ children }) { ... return children({ count, increment, decrement }); } render props æ¨¡å¼ï¼Œé‡ç”¨ UI é€»è¾‘ function ListWithMore({ renderItem, data = [], max }) ","date":"2023-11-01","objectID":"/course-react-hooks/:2:0","tags":["learn","react"],"title":"å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®°","uri":"/course-react-hooks/"},{"categories":["react"],"content":"æ‹†åŒ…/åˆ†åŒ…ï¼šæé«˜é¦–å±é¡µé¢çš„æ‰“å¼€é€Ÿåº¦ function ProfilePage() { // å®šä¹‰ä¸€ä¸ª state ç”¨äºå­˜æ”¾éœ€è¦åŠ è½½çš„ç»„ä»¶ const [RealPage, setRealPage] = useState(null); // æ ¹æ®è·¯å¾„åŠ¨æ€åŠ è½½çœŸæ­£çš„ç»„ä»¶å®ç° import('./RealProfilePage').then((comp) =\u003e { setRealPage(Comp); }); // å¦‚æœç»„ä»¶æœªåŠ è½½åˆ™æ˜¾ç¤º Loading çŠ¶æ€ if (!RealPage) return 'Loading....'; // ç»„ä»¶åŠ è½½æˆåŠŸååˆ™å°†å…¶æ¸²æŸ“åˆ°ç•Œé¢ return \u003cRealPage /\u003e } import() è¿™ä¸ªè¯­å¥å®Œå…¨æ˜¯ç”± Webpack è¿›è¡Œå¤„ç†çš„ Webpack ä¼šå°†ä»¥â€œ./RealProfilePageâ€æ¨¡å—ä¸ºèµ·ç‚¹çš„æ‰€æœ‰ä¾èµ–æ¨¡å—ï¼Œå•ç‹¬æ‰“æˆä¸€ä¸ªåŒ…ã€‚ å¹¶ä¸”ï¼ŒWebpack è¿˜ä¼šç”Ÿæˆä»£ç ï¼Œç”¨äºæŒ‰éœ€åŠ è½½è¿™ä¸ªæ¨¡å—ã€‚ react-lodableï¼Œå®ç°ç»„ä»¶çš„å¼‚æ­¥åŠ è½½ é€šè¿‡é«˜é˜¶ç»„ä»¶æ¥å®ç°çš„ï¼Œè¿™ä¸ªé«˜é˜¶ç»„ä»¶å®ç°äº†æ¨¡å—åŠ è½½ã€loading çŠ¶æ€ä»¥åŠé”™è¯¯å¤„ç†çš„åŠŸèƒ½ã€‚ import Loadable from \"react-loadable\"; // åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºåŠ è½½çŠ¶æ€çš„ç»„ä»¶ function Loading({ error }) { return error ? 'Failed' : 'Loading'; } // åˆ›å»ºåŠ è½½å™¨ç»„ä»¶ const HelloLazyLoad = Loadable({ loader: () =\u003e import(\"./RealHelloLazyLoad\"), loading: Loading, }); service worker ç¼“å­˜å‰ç«¯èµ„æºï¼šæé«˜ç¬¬äºŒæ¬¡ä»¥åŠåç»­æ‰“å¼€ App çš„é€Ÿåº¦ å¯ä»¥æŠŠ Service Worker çœ‹ä½œä¸€ç§å‰ç«¯çš„èµ„æºè¯·æ±‚ä»£ç†ã€‚Service Worker ä¼šæ‹¦æˆªæ‰€æœ‰æµè§ˆå™¨å‘é€å‡ºæ¥çš„è¯·æ±‚ï¼Œä½ å¯ä»¥é€šè¿‡ä»£ç å»æ§åˆ¶Rest API è¿™äº›è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ï¼›è€Œ JSã€CSS ç­‰é™æ€èµ„æºï¼Œåˆ™é€šè¿‡ Cache Storage å­˜å‚¨ åœ¨æµè§ˆå™¨ç«¯ã€‚ ","date":"2023-11-01","objectID":"/course-react-hooks/:3:0","tags":["learn","react"],"title":"å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®°","uri":"/course-react-hooks/"},{"categories":["react"],"content":"Webpack ä¸ºä¸»æµçš„å‰ç«¯åº”ç”¨æ‰“åŒ…å·¥å…·ï¼Œå®ƒçš„æ ¸å¿ƒæ€è·¯æ˜¯å°†æºä»£ç ä»¥åŠå›¾ç‰‡ã€æ ·å¼æ–‡ä»¶ç­‰èµ„æºæ–‡ä»¶éƒ½è§†ä¸ºæ¨¡å—ï¼Œç„¶åé€šè¿‡æä¾›å¯¹ä¸åŒç±»å‹èµ„æºçš„å¤„ç†å™¨ï¼Œå°†å®ƒä»¬è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œå½¢æˆæœ€ç»ˆå¯åœ¨æµè§ˆå™¨è¿è¡Œçš„ä»£ç ã€‚ è¾“å…¥è¾“å‡ºé…ç½®ï¼šå®šä¹‰ä½ çš„åº”ç”¨ç¨‹åºçš„å…¥å£ï¼Œä»¥åŠæ‰“åŒ…ç»“æœè¾“å‡ºçš„æ–‡ä»¶å¤¹ä½ç½®ã€‚ é…ç½®å¯¹äºæ¯ä¸€ç±»èµ„æºæ–‡ä»¶çš„å¤„ç†å™¨ï¼šæ¯”å¦‚è¯´ï¼Œå¯¹ JavaScript æ˜¯ç”¨ babel-loader å»ç¼– è¯‘ï¼›å¯¹ less æ–‡ä»¶åˆ™æ˜¯ç”¨ less-loader å»ç¼–è¯‘ï¼›å›¾ç‰‡åˆ™ç”¨ file-loader å»å¤„ç†ã€‚ä½ åœ¨é¡¹ç›® ä¸­èƒ½ä½¿ç”¨å“ªäº›æŠ€æœ¯æˆ–è€…èµ„æºï¼Œå®Œå…¨å–å†³äºé…ç½®äº†å“ªäº› loaderã€‚ æ’ä»¶é…ç½®ï¼šé™¤äº†æ ¸å¿ƒçš„æºä»£ç ç¼–è¯‘å’Œæ‰“åŒ…æµç¨‹ï¼ŒWebpack è¿˜æ”¯æŒæ’ä»¶æ‰©å±•åŠŸèƒ½ï¼Œå¯ä»¥ é€šè¿‡æ’ä»¶ç”Ÿæˆé¢å¤–çš„æ‰“åŒ…ç»“æœï¼Œæˆ–è€…è¿›è¡Œä¸€äº›å…¶å®ƒçš„å¤„ç†ã€‚æ¯”å¦‚æ‰“åŒ…è¿‡ç¨‹ç”Ÿæˆ index.htmlï¼Œæºä»£ç åˆ†ææŠ¥è¡¨ï¼Œæå– CSS åˆ°ç‹¬ç«‹æ–‡ä»¶ï¼Œä»£ç å‹ç¼©ï¼Œç­‰ç­‰ã€‚ const HtmlWebpackPlugin = require('html-webpack-plugin'); const path = require('path'); module.exports = { entry: { // å®šä¹‰ath.resolve(__dirname, './src/app.js'), }, output: { // æ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶åï¼Œè¿™é‡Œå°†ç”Ÿæˆ main.bundle.js filename: '[name].bundle.js', // å®šä¹‰æ‰“åŒ…ç»“æœçš„è¾“å‡ºä½ç½® path: path.resolve(__dirname, 'build'), }, module: { // å®šä¹‰å¤„ç†æºæ–‡ä»¶çš„è§„åˆ™ï¼Œrules ä¸‹ä¼šæŒ‰é¡ºåºä½¿ç”¨åŒ¹é…çš„è§„åˆ™ rules: [ { // é‡åˆ° .js ç»“å°¾çš„æ–‡ä»¶åˆ™ä½¿ç”¨è¿™ä¸ªè§„åˆ™ test: /\\.js$/, // å¿½ç•¥ node_modules ç›®å½•ä¸‹çš„ js æ–‡ä»¶ exclude: /node_modules/, use: { // ä½¿ç”¨ babel-loader å¤„ç† js loader: 'babel-loader', // babel-loader çš„ä¸€äº›é€‰é¡¹ options: { presets: ['@babel/preset-env'], }, }, }, ], }, plugins: [ // ä½¿ç”¨ HtmlWebpackPlugin ç”Ÿæˆä¸€ä¸ª index.htmlï¼Œå…¶ä¸­è‡ªåŠ¨å¼•å…¥ js // å¹¶é…ç½®äº†é¡µé¢çš„ title new HtmlWebpackPlugin({ title: 'Webpack Output', }), ], }; é’ˆå¯¹è¿™æ®µé…ç½®ä»£ç ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠå®ƒå­˜å‚¨ä¸º webpack.config.js è¿™æ ·ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™æ ·åœ¨æˆ‘ ä»¬çš„é¡¹ç›®ä¸‹è¿è¡Œ webpack å‘½ä»¤ï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ä½œä¸ºé…ç½®ã€‚ ä»£ç ä¸­å…¶å®å·²ç»å¾ˆç›´è§‚äº†ï¼Œæˆ‘ä»¬ä¸ä»…å®šä¹‰äº†è¾“å…¥è¾“å‡ºï¼Œè¿˜é…ç½®äº† babel-loaderï¼Œç”¨äºç¼–è¯‘ JavaScript æ–‡ä»¶åˆ°å…¼å®¹ä¸»æµæµè§ˆå™¨çš„ä»£ç ã€‚åŒæ—¶ï¼Œè¿˜ä¸º babel-loader è®¾ç½®äº†å‚æ•° Less å…è®¸æˆ‘ä»¬é€šè¿‡æ›´å¼ºå¤§çš„æœºåˆ¶å»å†™ Cssï¼Œæ¯”å¦‚å¯ä»¥å®šä¹‰å˜é‡ï¼Œå…è®¸åµŒå¥—çš„è§„åˆ™å®šä¹‰ï¼Œç­‰ç­‰ã€‚ è¦è®©ä¸€ä¸ª Less æ–‡ä»¶æœ€ç»ˆæ‰“åŒ…åˆ°ç›®æ ‡æ–‡ä»¶ä¸­ï¼Œå¹¶è¢«æµè§ˆå™¨è¿è¡Œï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦æŠŠ Less ä»£ç è½¬æ¢æˆ Cssï¼Œå†é€šè¿‡ style æ ‡è®°æ’å…¥åˆ°æµè§ˆå™¨ä¸­ã€‚ è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°ä¸‰ä¸ª loaderï¼Œå¦‚ä¸‹ï¼š less-loaderï¼šç”¨äºå°† Less ä»£ç è½¬æ¢æˆ Cssã€‚ css-loaderï¼šç”¨äºå¤„ç† Css ä¸­çš„ importã€url ç­‰è¯­å¥ï¼Œä»¥ä¾¿èƒ½åˆ†æå‡ºå›¾ç‰‡ç­‰é™æ€èµ„æºæ‰“ åŒ…åˆ°æœ€ç»ˆç»“æœã€‚ style-loaderï¼šä¼šè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œå¹¶å°†æ‰“åŒ…åçš„ Css æ’å…¥åˆ°é¡µé¢ style æ ‡ç­¾ã€‚è¿™ä¸ª loader ä¼šå°† Css æ‰“åŒ…åˆ° js æ–‡ä»¶ä¸­ï¼Œåœ¨åº”ç”¨è¿è¡Œæ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç å†æŠŠè¿™äº› css åº”ç”¨ åˆ°é¡µé¢ä¸Šã€‚ module.exports = { // ... module: { rules: [ // ... { // æ£€æµ‹ less æ–‡ä»¶ test: /\\.less$/, // ä½¿ç”¨äº†ä¸‰ä¸ª loaderï¼Œæ³¨æ„æ‰§è¡Œé¡ºåºæ˜¯æ•°ç»„çš„å€’åº // ä¹Ÿå°±æ˜¯å…ˆæ‰§è¡Œ less-loader use: ['style-loader', 'css-loader', 'less-loader'], }, ], }, //... }; å¦‚æœé¡¹ç›®è¦æ”¯æŒ sass ä½œä¸º Css é¢„å¤„ç†å™¨ï¼Œé‚£ä¹ˆé¡ºåºå°±æ˜¯ sass-loader -\u003e css- loader -\u003e style-loaderã€‚å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åªè¦æ›¿æ¢ less-loader ä¸º sass-loaderï¼Œåä¸¤ä¸ª loader æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ å¸¸è§QA ä¸ºä»€ä¹ˆ CSS ä»£ç ä¼šè¿›å…¥åˆ° JavaScript æ–‡ä»¶ä¸­å‘¢ï¼Ÿæœ€ç»ˆå®ƒæ˜¯æ€ä¹ˆåº”ç”¨åˆ°é¡µé¢çš„å‘¢ï¼Ÿ å…¶å®èƒŒåçš„è¿‡ç¨‹ä¸»è¦æ˜¯ï¼Œç”Ÿæˆçš„ CSS ä»£ç ä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä½œä¸ºä¸€ä¸ªæ¨¡å—æ‰“åŒ… åˆ°æœ€ç»ˆç»“æœï¼Œç„¶ååœ¨è¿è¡Œæ—¶ç”± style-loader æä¾›çš„ä¸€ä¸ªå‡½æ•° injectStylesIntoStyleTag ï¼Œ æ¥å°†è¿™ä¸ªæ¨¡å—åŠ å…¥åˆ°é¡µé¢çš„ style æ ‡ç­¾ä¸­ï¼Œä»è€Œæœ€ç»ˆç”Ÿæ•ˆã€‚ å¦‚æœæˆ‘ä»¬æƒ³è®©ç”Ÿæˆçš„ CSS æ–‡ä»¶å’Œ JavaScript æ–‡ä»¶åˆ†å¼€ï¼Œåº”è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ ä» rules ä¸­å»æ‰ style-loader è¿™ä¸ªé…ç½®ï¼Œä»¥é¿å… CSS è¿›å…¥åˆ° JavaScript æ–‡ä»¶ä¸­ã€‚ å®ç°æå– CSS æ¨¡å—åˆ°å•ç‹¬ CSS æ–‡ä»¶çš„ plugin æ˜¯ mini-css-extract-plugin plugin å’Œ loader çš„åŒºåˆ« loaderä¸»è¦ç”¨äºå¤„ç†ä¸åŒç±»å‹çš„èµ„æºï¼Œå°†å®ƒä»¬è½¬æ¢æˆæ¨¡å—ï¼› plugin é€šå¸¸ç”¨äºç”Ÿæˆä¸€äº›é™¤äº†JavaScript bundle ä¹‹å¤–çš„ä¸€äº›æ‰“åŒ…ç»“æœï¼Œæ¯”å¦‚ä¾‹å­ä¸­çš„ index.html å’Œ css æ–‡ä»¶ React Nativeä¸­ç”¨åˆ° babelçš„ä¾‹å­ Webpack åŠ¨æ€åŠ è½½æ¨¡å— ","date":"2023-11-01","objectID":"/course-react-hooks/:4:0","tags":["learn","react"],"title":"å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®°","uri":"/course-react-hooks/"},{"categories":["react"],"content":"æ„Ÿè°¢ æ„Ÿè°¢å…¬å¸è´­ä¹°äº†è¿™ä¸ªè¯¾ç¨‹ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ æ„Ÿè°¢ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ä½œè€…åˆ†äº«è¿™äº›ç»éªŒ ","date":"2023-11-01","objectID":"/course-react-hooks/:5:0","tags":["learn","react"],"title":"å­¦ä¹ ã€ŠReact Hooks æ ¸å¿ƒåŸç†ä¸å®æˆ˜ã€‹ç¬”è®°","uri":"/course-react-hooks/"},{"categories":["react-native"],"content":"Q: ä»£ç è°ƒç”¨ä¸€ä¸ªå¼¹çª—çš„æç®€æ–¹å¼æ˜¯æ€æ ·çš„ï¼Ÿ A: è¿™æ ·å­ğŸ‘‰ğŸ» XxModuleAlert.show({..}) ä¸ºäº†è¿™ä¸ªæç®€ç”¨æ³•çš„ç›®æ ‡ï¼Œæˆ‘æ›¾ç» ä½¿ç”¨rn-global-modalå°è£…è¿‡TextInputAlertï¼Œä½†ä¾ç„¶æœ‰äº›é—®é¢˜æˆ–éš¾ç”¨ç‚¹ï¼Œæ¯”å¦‚é®æŒ¡äº†Toastã€æ›´æ”¹maské¢œè‰²è¦æ”¹æºç ã€å¸ƒå±€ä¸Šæœ‰äº›éæ­£å¸¸çš„åœ°æ–¹ å› ä¸ºä¸å¸Œæœ›å¼¹çª—é®æŒ¡Toastï¼Œäºæ˜¯ç ”ç©¶äº†react-native-root-toastï¼Œç”¨çš„react-native-root-siblingsï¼Œä»è€Œæ‰¾åˆ°äº†å°è£…ç†æƒ³å¼¹çª—çš„æ›´å¿«çš„æ–¹å¼ äºæ˜¯ï¼ŒåŸºäºreact-native-root-siblings 5.0.1ï¼Œé€ äº†ä¸€ä¸ª AlertManager Why need AlertManager ç›¸ä¿¡å¤§å®¶ä½¿ç”¨è¿‡RNå®˜æ–¹Modalçš„ï¼Œéƒ½çŸ¥é“ï¼ŒiOSå¼¹çª—æ— æ³•å¼¹ä¸¤ä¸ªï¼Œä½¿ç”¨èµ·æ¥ä¸æ»¡è¶³é«˜å†…èšä½è€¦åˆï¼Œéš¾å—ã€‚ã€‚ã€‚ ","date":"2023-11-01","objectID":"/alert-multiple/:0:0","tags":["best-practice","react-native"],"title":"å®ç° å·®ä¸å¤šç†æƒ³çš„æç®€RNå¼¹çª—","uri":"/alert-multiple/"},{"categories":["react-native"],"content":"RNå®˜æ–¹Modal ç¼ºç‚¹ï¼šè€¦åˆè¿‡å¤šï¼é¡»visibleå±æ€§ï¼Œå¤š1ä¸ªimport useStateï¼Œå¤š1è¡Œä»£ç setVisbleå£°æ˜ï¼Œå¼¹çª—ç»„ä»¶é¡»åµŒå…¥å®¹å™¨ç»„ä»¶ ","date":"2023-11-01","objectID":"/alert-multiple/:0:1","tags":["best-practice","react-native"],"title":"å®ç° å·®ä¸å¤šç†æƒ³çš„æç®€RNå¼¹çª—","uri":"/alert-multiple/"},{"categories":["react-native"],"content":"rn-global-modal ä¼˜ç‚¹ï¼šå‡½æ•°å¼è°ƒèµ·å¼¹çª—ï¼Œä»»æ„å¤„å¯è°ƒç”¨ ç¼ºç‚¹ï¼šiOS ä¸æ”¯æŒåŒæ—¶å¤šå±‚å¼¹çª—ï¼›toastçš„å±‚çº§ä½äºå®ƒ å¯¼è‡´çœ‹ä¸åˆ°/çœ‹ä¸æ¸… What AlertManager provide å°è£…è€…ï¼šå°è£…å‡ºé«˜åº¦è§£è€¦çš„å¼¹çª—ã€‚ ä½¿ç”¨æ–¹ï¼šä½¿ç”¨æç®€ï¼ ","date":"2023-11-01","objectID":"/alert-multiple/:0:2","tags":["best-practice","react-native"],"title":"å®ç° å·®ä¸å¤šç†æƒ³çš„æç®€RNå¼¹çª—","uri":"/alert-multiple/"},{"categories":["react-native"],"content":"ä¼˜åŠ¿ vs Modalï¼šå»æ‰visible vs rn-global-modal: æ”¯æŒå¤šå±‚å¼¹çª—, TextInputå¼¹çª—å¯¹é”®ç›˜æ”¯æŒæ›´å¥½ï¼Ÿï¼Ÿ How to use AlertManager ä½¿ç”¨æ–¹ï¼š XxModuleAlert.show({...}); XxModuleAlert.hide(); å°è£…æ–¹: class XxModuleAlert { static show() { AlertManager.show(\u003cXxModuleView /\u003e, { key: XxModuleView.name, }); } static hide() { AlertManager.hide(XxModuleView.name); } } export XxModuleAlert const XxModuleView = () =\u003e { ... return (...) } æºç  import React from \"react\"; import { Dimensions, TouchableOpacity, View } from \"react-native\"; import RootSiblingsManager from \"react-native-root-siblings\"; const { width, height } = Dimensions.get(\"window\"); /** * å¼¹çª—ç®¡ç†ç±» * - æ”¯æŒåŒæ—¶å¼¹å‡ºå¤šä¸ªå¼¹çª— ï¼ˆModalã€rn-global-modal ä¸æ”¯æŒï¼‰ * - ä¸ä¼šé®æŒ¡Toastï¼ˆModalã€rn-global-modal ä¼šé®æŒ¡Toastï¼‰ */ class AlertManger { static _alertNodes = {}; // { key1: { rootNode: \u003cA/\u003e, onClose: () =\u003e {} }, key2: { rootNode: \u003cB/\u003e, onClose: () =\u003e {} } /** * å±•ç¤ºå¼¹çª— * @param {*} modalView å¼¹çª—å†…æ‰€è¦å±•ç¤ºçš„å†…å®¹ç»„ä»¶ * @param {*} options.key **å¿…ä¼ ** å¼¹çª—å”¯ä¸€æ ‡è¯† * @param {*} options.maskStyle è’™å±‚æ ·å¼ é»˜è®¤å€¼ï¼š{ backgroundColor: 'rgba(0, 0, 0, 0.5)' } * @param {*} options.maskTouchClosable å¼¹çª—è’™å±‚æ˜¯å¦å¯ç‚¹å‡»å…³é—­ * @param {*} options.closedCallback å¼¹çª—å…³é—­çš„å›è°ƒ * @param {*} options.animationType [todo] å¼¹çª—åŠ¨ç”»ç±»å‹: none | fade | slide-up */ static show(modalView, options) { const { key, maskTouchClosable, closedCallback, maskStyle } = options; let rootNode; const onClose = () =\u003e { rootNode?.destroy(); rootNode = null; closedCallback?.(); }; rootNode = new RootSiblingsManager( ( \u003cView style={[ { position: \"absolute\", width: width, height: height, justifyContent: \"center\", alignItems: \"center\", backgroundColor: \"rgba(0,0,0,0.5)\", }, maskStyle, ]} \u003e \u003cTouchableOpacity style={{ position: \"absolute\", width: width, height: height, }} activeOpacity={1} onPress={(e) =\u003e { maskTouchClosable \u0026\u0026 this.hide(key); }} /\u003e {modalView} \u003c/View\u003e ) ); this._alertNodes[key] = { rootNode, onClose }; console.log(\"this._alertNodes:::\", this._alertNodes); } static hide(key) { console.log( \"this._alertNodes?.[key]?.onClose::\", this._alertNodes?.[key]?.onClose ); this._alertNodes?.[key]?.onClose?.(); delete this._alertNodes[key]; } } export default AlertManger; /* ----------------------- Usage ---------------------- */ /* * å¼¹çª—å¼€å‘è€… è¿™æ ·å°è£…è‡ªå·±çš„å¼¹çª— ``` import AlertManager from \"app/components/dialog/AlertManager.js\"; class BbModuleAlert { static show() { AlertManager.show(\u003cBModuleView /\u003e, { key: BModuleView.name, maskTouchClosable: true, closedCallback: () =\u003e { console.log(\"BModuleView closedCallback\"); }, }); } static hide() { AlertManager.hide(BModuleView.name); } } export default BbModuleAlert; const BModuleView = () =\u003e { return ( ... ) } ``` */ /* * å¼¹çª—è°ƒç”¨è€… è¿™æ ·è°ƒç”¨å¼¹çª— ``` import BbModuleAlert from \"./BbModuleAlert\"; BbModuleAlert.show(); BbModuleAlert.hide(); ``` */ ","date":"2023-11-01","objectID":"/alert-multiple/:0:3","tags":["best-practice","react-native"],"title":"å®ç° å·®ä¸å¤šç†æƒ³çš„æç®€RNå¼¹çª—","uri":"/alert-multiple/"},{"categories":["react-native"],"content":"todo å¦‚ä½•æä¾› é¡µé¢çº§åˆ«çš„å¼¹çª— showInComp(comp) éœ€æ±‚ï¼š æŸä¸ªå¼¹çª—ï¼Œæ˜¯å½“å‰Aé¡µé¢çš„å­è§†å›¾ï¼Œè‹¥ç‚¹å‡»è¯¥å¼¹çª—ç§çš„æŒ‰é’®ï¼Œè·³è½¬åˆ°ä¸‹ä¸€ä¸ªBé¡µé¢æ—¶ï¼Œè¯¥å¼¹çª—ç»§ç»­å±•ç¤ºåœ¨Aé¡µé¢ï¼ŒBé¡µé¢åœ¨æœ€ä¸Šå±‚å±•ç¤º(æ˜¯ç›–ä½è¯¥å¼¹çª—çš„) åƒ å–æ¶ˆ\u0026ç¡®è®¤ å¼¹çª—ï¼Œå¯ä»¥åŸºäºè¿™ä¸ªé‡åšä¸€éäº† ","date":"2023-11-01","objectID":"/alert-multiple/:1:0","tags":["best-practice","react-native"],"title":"å®ç° å·®ä¸å¤šç†æƒ³çš„æç®€RNå¼¹çª—","uri":"/alert-multiple/"},{"categories":["react-native"],"content":"æ•ˆæœå±•ç¤º/UI åˆ‡æ¢è¾“å…¥æ³•ï¼Œé¿å¼€é”®ç›˜ è¾“å…¥/ç²˜å¸–æ—¶ï¼Œæ–‡å­—æ¢è¡Œï¼Œè¾“å…¥æ¡†é«˜åº¦å‡†ç¡®å˜åŒ– ","date":"2023-11-01","objectID":"/textinput-alert/:1:0","tags":["best-practice","react-native"],"title":"å°è£… ä½è€¦åˆã€æ˜“ç”¨çš„æ–‡æœ¬è¾“å…¥æ¡†å¼¹çª—","uri":"/textinput-alert/"},{"categories":["react-native"],"content":"ä½¿ç”¨/Usage å°è£…åï¼Œå¦‚ä¸‹è¿™æ ·ä½¿ç”¨ï¼Œè§£è€¦çš„å¹²å¹²å‡€å‡€ import TextInputAlert from \"./TextInputAlert\"; TextInputAlert.show({ text: \"hello\", // maxLength: 20, onChange: function didInputChange(text_) { console.log(\"didInputChange::\u003e\u003e\", text_); }, onCompleted: () =\u003e { console.log(\"onCompleted::\u003e\u003e\", content); }, }); TextInputAlert.hide(); åƒåŸç”Ÿä¸€æ ·è°ƒapiæ–¹å¼å±•ç¤ºå¼¹çª—ï¼Œä¸éœ€è¦Modalé‚£æ ·è€¦åˆè¿‡å¤šï¼ˆè§†å›¾åµŒå…¥ã€visibleå­—æ®µæ§åˆ¶â€¦ï¼‰ ","date":"2023-11-01","objectID":"/textinput-alert/:2:0","tags":["best-practice","react-native"],"title":"å°è£… ä½è€¦åˆã€æ˜“ç”¨çš„æ–‡æœ¬è¾“å…¥æ¡†å¼¹çª—","uri":"/textinput-alert/"},{"categories":["react-native"],"content":"æºç /Code TextInputAlert ","date":"2023-11-01","objectID":"/textinput-alert/:3:0","tags":["best-practice","react-native"],"title":"å°è£… ä½è€¦åˆã€æ˜“ç”¨çš„æ–‡æœ¬è¾“å…¥æ¡†å¼¹çª—","uri":"/textinput-alert/"},{"categories":["react-native"],"content":"ç›®å½• ç€‘å¸ƒæµåˆ—è¡¨baseç»„ä»¶ å›¾ç‰‡baseç»„ä»¶ çŠ¶æ€æ å¯¼èˆªæ ç»„ä»¶ é¡µé¢å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’®ç»„ä»¶ ç€‘å¸ƒæµåˆ—è¡¨baseç»„ä»¶ æºç ï¼šBaseList.js ä¼˜ç‚¹ï¼šå°†ä¸‹æ‹‰åˆ·æ–°ã€ä¸Šæ‹‰åŠ è½½æ›´å¤šç›¸å…³çš„ pageNoé€»è¾‘ï¼Œå°è£…åˆ°BaseListä¸­ï¼Œä½¿ç”¨æ–¹ä»…éœ€å…³æ³¨ æ•°æ®è¯·æ±‚çš„apiï¼Œè®©ä½¿ç”¨æ–¹ä»£ç é‡é™åˆ°æœ€å°‘ã€‚ ","date":"2023-11-01","objectID":"/base-components/:0:0","tags":["react-native","component"],"title":"å°è£…å¸¸ç”¨åŸºç¡€ç»„ä»¶","uri":"/base-components/"},{"categories":["react-native"],"content":"ä½¿ç”¨ç¤ºä¾‹ å¹³æ›¿ FlatList import BaseList from \"app/components/list/base\"; import { getFanList } from \"./service\"; const pageSize = 10; const FanList = (props) =\u003e { const { userId } = props; const _requestFunc = (page, pageSize) =\u003e { return getFanList({ userId: userId, pageNo: page, pageSize }); }; const _renderItem = ({ item, index }) =\u003e { return \u003cItem {...item} /\u003e; }; return ( // \u003cView style={{ flex: 1 }}\u003e \u003cBaseList requestFunc={(page) =\u003e _requestFunc(page, pageSize)} contentContainerStyle={{ paddingVertical: px2dp(5), paddingLeft: px2dp(5), }} renderItem={_renderItem} // numColumns={1} uniqueKey={\"userId\"} /\u003e // \u003c/View\u003e ); }; å¯èƒ½ä¼šæœ‰åŒåˆ—åˆ†å¸ƒä¸å‡é—®é¢˜ï¼Œå³æŸä¸€åˆ—å¤§é‡ç©ºç™½ç°è±¡ æœ€å®Œç¾ï¼ˆæ¸²æŸ“å‡åŒ€ã€æ€§èƒ½æœ€ä½³ï¼‰ç”¨æ³• import { StyleSheet, Text, View } from \"react-native\"; import React, { forwardRef, useCallback, useEffect } from \"react\"; import ImageTextFeed, { sizeForItem as imageTextFeedSizeForItem, } from \"./Feed/ImageTextFeed\"; import TextFeed, { sizeForItem as textFeedSizeForItem } from \"./Feed/TextFeed\"; import { px2dp } from \"app/utils/ScreenUtils\"; import BaseList from \"app/components/list/base\"; import SA from \"app/utils/SaUtil\"; const FeedList = forwardRef((props, ref) =\u003e { const { requestFunc, ListHeaderComponent, disableAutoLoadNew, ListEmptyComponent, } = props; useEffect(() =\u003e { console.log(\"useEffect:FeedList\"); }, []); const _renderItem = ({ item, index }) =\u003e { if (item.previewUri) { return \u003cImageTextFeed item={item} /\u003e; } else { return \u003cTextFeed item={item} /\u003e; } }; return ( \u003cBaseList ref={ref} requestFunc={(page) =\u003e requestFunc(page)} contentContainerStyle={{ paddingVertical: px2dp(0), paddingLeft: px2dp(12), }} renderItem={_renderItem} numColumns={2} uniqueKey={\"id\"} getItemType={(item) =\u003e { return item.previewUri ? \"ImageText\" : \"Text\"; }} headRefreshEnable={true} ListHeaderComponent={ListHeaderComponent} disableAutoLoadNew={disableAutoLoadNew} ListEmptyComponent={ListEmptyComponent} sizeForItem={(item, index) =\u003e { return item.previewUri ? imageTextFeedSizeForItem(item) : textFeedSizeForItem(item); }} /\u003e ); }); export default FeedList; å›¾ç‰‡baseç»„ä»¶ æºç ï¼šBaseImage.js ä¼˜ç‚¹ï¼š ä½¿ç”¨äº†é«˜æ€§èƒ½å›¾ç‰‡åº“FastImageï¼Œå°è£…ä¸º å¯é…ç½®å›¾ç‰‡åŠ è½½å¤±è´¥åå±•ç¤ºçš„å ä½errorå›¾ ","date":"2023-11-01","objectID":"/base-components/:0:1","tags":["react-native","component"],"title":"å°è£…å¸¸ç”¨åŸºç¡€ç»„ä»¶","uri":"/base-components/"},{"categories":["react-native"],"content":"ä½¿ç”¨ç¤ºä¾‹ // aliyun oss image format // error image url: https://cdn.xxx.com/pic/illustrationstory/default/default_cover_720-1080.png?x-oss-process=image/resize,w_150/quality,q_85/format,webp // normal image url: https://cdn.xxx.com/pic/illustrationstory/custom/scene/202310/2721/1698415166233-0yZkuCBu9I_960-960.png?x-oss-process=image/resize,w_150/quality,q_85/format,webp import HBImage from \"app/components/image/HBImage\"; import { getSize, parseSize } from \"app/utils/image/measurer\"; const FeedItem = (props) =\u003e { const coverUrl = useMemo( () =\u003e getImageUrl(item.coverUrl, imageWidth), //oss resize æ‹¼æ¥url [item.coverUrl] ); const imageHeightFromUrl = useMemo(() =\u003e { return getHeightFromSize(parseSize(coverUrl)); // parseSize ä»url(..._720-1080.png...)ä¸­è§£æå‡ºå®½é«˜ ã€æ­£å¸¸100%éƒ½èƒ½å–å‡ºã€‘ }, [coverUrl]); const [imageHeight, setImageHeight] = useState(imageHeightFromUrl); useEffect(() =\u003e { if (!(imageHeightFromUrl \u003e 0)) { //è‹¥ä»urlä¸­æœªèƒ½è§£æå‡ºå®½é«˜ï¼Œå°±é€šè¿‡RNå®˜æ–¹Image.getSizeæ–¹å¼è·å–å®½é«˜ ã€æ­£å¸¸100%ä¸å¯èƒ½èµ°è¿™é‡Œå¤´ã€‘ let h = imageSize; getSize(coverUrl) .then((size) =\u003e { if (size) { h = getHeightFromSize(size); } setImageHeight(h); kImageHeightCache[coverUrl] = h; }) .catch((err) =\u003e { setImageHeight(h); }); } else { kImageHeightCache[coverUrl] = imageHeightFromUrl; } }, [coverUrl]) return \u003c\u003e {imageHeightFromUrl || imageHeight ? ( \u003cHBImage style={[ localStyles.image, { height: imageHeightFromUrl \u003e 0 ? imageHeightFromUrl : imageHeight, }, ]} source={{ uri: coverUrl }} resizeMode={\"contain\"} errorSource={require(\"app/components/image/default_cover_720-1080.png\")} /\u003e ) : null} \u003c/\u003e } const getHeightFromSize = (size) =\u003e { if (!(size?.width \u003e 0) || !(size?.height \u003e 0)) return 0; return Math.min((imageSize * size.height) / size.width, maxImageHeight); }; çŠ¶æ€æ å¯¼èˆªæ ç»„ä»¶ æºç ï¼šBaseNavBar.js ä¼˜ç‚¹ï¼š å¸¦ è¿”å›æŒ‰é’®ï¼Œç‚¹å‡»è¿”å›ä¸Šä¸€é¡µ å¸¦ title æ”¯æŒè‡ªå®šä¹‰å¯¼èˆªæ å†…å­è§†å›¾ ä½¿ç”¨æ—¶æ— éœ€è€ƒè™‘çŠ¶æ€æ é€‚é…äº†ï¼ˆå†…éƒ¨å¤„ç†äº†ï¼‰ ","date":"2023-11-01","objectID":"/base-components/:0:2","tags":["react-native","component"],"title":"å°è£…å¸¸ç”¨åŸºç¡€ç»„ä»¶","uri":"/base-components/"},{"categories":["react-native"],"content":"ä½¿ç”¨ç¤ºä¾‹ æœ€å¸¸è§„ç”¨æ³• [ è¿”å›é”® + title ] ä½¿ç”¨åœºæ™¯ï¼šå‡ ä¹æ‰€æœ‰é¡µé¢ import BaseNavBar from \"app/components/navBar/base\"; \u003cBaseNavBar title={\"ä¹¦æ¶ç­›é€‰\"} /\u003e è‡ªå®šä¹‰å¯¼èˆªæ å†…å®¹ç”¨æ³• ä½¿ç”¨åœºæ™¯ï¼šå¯¼èˆªæ éœ€è¦ç‰¹åˆ«è‡ªå®šä¹‰æ—¶ import BaseNavBar from \"app/components/navBar/base\"; \u003cBaseNavBar\u003e {/* æœç´¢æ  */} \u003cView style={styles.inputContainer}\u003e \u003cTextInput style={styles.textInput} placeholder={placeholder || \"è¾“å…¥æœç´¢å…³é”®å­—\"} placeholderTextColor={\"#999999\"} onChangeText={onChangeText} value={keyword} onSubmitEditing={_onClickSubmit} keyboardType=\"web-search\" returnKeyType=\"search\" autoFocus={true} /\u003e \u003cTouchableOpacity style={styles.closeButton} onPress={clearInput}\u003e \u003cImage style={styles.closeButtonImage} source={require(\"./images/close-gray.png\")} /\u003e \u003c/TouchableOpacity\u003e \u003c/View\u003e \u003cTouchableOpacity style={styles.searchButton} onPress={_onClickSubmit}\u003e \u003cText style={{ fontSize: px2dp(16), color: \"#666666\" }}\u003eæœç´¢\u003c/Text\u003e \u003c/TouchableOpacity\u003e \u003c/BaseNavBar\u003e é¡µé¢å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’®ç»„ä»¶ æºç ï¼šLeftUpBackButton.js ä¼˜ç‚¹ï¼š é¿å¼€äº†çŠ¶æ€æ  çƒ­åŒºè¶³å¤Ÿå¤§ ä½¿ç”¨èµ·æ¥æç®€ ä½¿ç”¨åœºæ™¯ï¼šä¸éœ€è¦å¯¼èˆªæ  ä½†éœ€è¦è¿”å›æŒ‰é’®çš„é¡µé¢ï¼Œe.g. ä¸€äº›å…¨å±å¼¹çª—ï¼ˆå›¾ç‰‡æŸ¥çœ‹å™¨â€¦ï¼‰ ","date":"2023-11-01","objectID":"/base-components/:0:3","tags":["react-native","component"],"title":"å°è£…å¸¸ç”¨åŸºç¡€ç»„ä»¶","uri":"/base-components/"},{"categories":["react-native"],"content":"ä½¿ç”¨ç¤ºä¾‹ import LeftUpBackButton from \"app/components/LeftUpBackButton\"; \u003cLeftUpBackButton //iconType=\"white\" //onPress={() =\u003e { //dismiss alert //}} /\u003e ","date":"2023-11-01","objectID":"/base-components/:0:4","tags":["react-native","component"],"title":"å°è£…å¸¸ç”¨åŸºç¡€ç»„ä»¶","uri":"/base-components/"},{"categories":["react-native"],"content":"éœ€æ±‚ å½“è¾“å…¥ ä»¥#å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œåˆ™åˆ¤å®šä¸ºæ ‡ç­¾ å¹¶å±•ç¤ºä¸ºè“è‰² æ•ˆæœå›¾ ","date":"2023-11-01","objectID":"/douyin-label-input/:1:0","tags":["react-native"],"title":"æ¨¡ä»¿æŠ–éŸ³ã€å°çº¢ä¹¦ è¾“å…¥ #æ ‡ç­¾ é«˜äº®","uri":"/douyin-label-input/"},{"categories":["react-native"],"content":"è°ƒç ” iOSçš„TextFieldå¯ä»¥è®¾å®šattributedStringå¯Œæ–‡æœ¬ï¼Œä½†RNçš„TextInputæ˜¯ä¸å…·å¤‡çš„ã€‚ æ–¹æ¡ˆï¼š TextInputä¸Šæµ®ä¸€ä¸ªstyleå¤§å°ä¸€è‡´çš„Textï¼ŒTextInputæ–‡å­—é¢œè‰²è®¾ä¸ºé€æ˜ï¼ŒTextå†…åµŒå¥— styleä¸ºè“è‰²çš„Text ç”¨æ¥å±•ç¤º#ä»»æ„(è‡³å°‘1ä¸ª)å­—ç¬¦ ","date":"2023-11-01","objectID":"/douyin-label-input/:2:0","tags":["react-native"],"title":"æ¨¡ä»¿æŠ–éŸ³ã€å°çº¢ä¹¦ è¾“å…¥ #æ ‡ç­¾ é«˜äº®","uri":"/douyin-label-input/"},{"categories":["react-native"],"content":"ä»£ç  import React, { useState } from \"react\"; import { View, TextInput, Text, StyleSheet } from \"react-native\"; const App = () =\u003e { const [text, setText] = useState(\"\"); const handleTextChange = (inputText) =\u003e { // æ£€æµ‹è¾“å…¥å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å« \"#\" if (inputText.includes(\"#\")) { // å°†åŒ…å« \"#ä»»æ„(è‡³å°‘1ä¸ª)å­—ç¬¦\" çš„éƒ¨åˆ†æ›¿æ¢ä¸ºå¸¦æœ‰è“è‰²æ ·å¼çš„æ–‡æœ¬ç»„ä»¶ const parts = inputText.split(/(?=#|\\s)/g); console.log(\"parts: \", parts); const formattedText = parts.map((part, index) =\u003e { return part.includes(\"#\") \u0026\u0026 part.length \u003e= 1 ? ( \u003cText onPress={() =\u003e { console.log(\"click part:\", part); }} key={index} style={{ color: \"blue\" }} \u003e {part} \u003c/Text\u003e ) : ( part ); }); // è®¾ç½®æ›´æ–°åçš„æ–‡æœ¬ setText(formattedText); } else { // è¾“å…¥å­—ç¬¦ä¸²ä¸åŒ…å« \"#æ–‡å­—\"ï¼Œç›´æ¥è®¾ç½®æ–‡æœ¬ setText(inputText); } }; return ( \u003cView style={{ flex: 1, backgroundColor: \"pink\", marginTop: 100 }}\u003e \u003cTextInput style={[ styles.text, { borderWidth: 1, borderColor: \"gray\", width: \"100%\", padding: 0, color: \"white\", }, ]} onChangeText={handleTextChange} multiline={true} \u003e \u003cText\u003e{text}\u003c/Text\u003e \u003c/TextInput\u003e \u003cText style={{ color: \"yellow\" }}\u003e{text}\u003c/Text\u003e \u003c/View\u003e ); }; const styles = StyleSheet.create({ container: { backgroundColor: \"#fff\", borderWidth: 1, borderColor: \"gray\", padding: 10, marginTop: 20, }, text: { color: \"white\", fontSize: 16, lineHeight: 20, }, }); export default App; ä»£ç æ ¸å¿ƒé€»è¾‘ï¼š è¾“å…¥æ–‡å­—å˜åŒ–åï¼Œå°†æ–‡å­—æŒ‰ç…§ #æ–‡æœ¬ï¼Œåˆ†å‰²ä¸ºæ•°ç»„ï¼Œç»“æœå¦‚ä¸‹æ—¥å¿—æ‰€ç¤ºã€‚ ç„¶åå¯¹æ¯ä¸ªå…ƒç´  åˆ¤æ–­æ˜¯å¦å«#ï¼Œå«æœ‰ åˆ™è®¾å®šblueæ ·å¼ æ—¥å¿—ï¼š LOG parts: [\"å¥½çš„\", \"#è®°å¾—è®°\", \" è®°å¾—è®°å¾—\", \"#è®°å¾—è®°å¾—\", \" \", \"#è®°å¾—è®°å¾—\", \" \"] ","date":"2023-11-01","objectID":"/douyin-label-input/:3:0","tags":["react-native"],"title":"æ¨¡ä»¿æŠ–éŸ³ã€å°çº¢ä¹¦ è¾“å…¥ #æ ‡ç­¾ é«˜äº®","uri":"/douyin-label-input/"},{"categories":["react-native"],"content":"éœ€æ±‚ æ•ˆæœå±•ç¤º ","date":"2023-11-01","objectID":"/waterfall-list-horizontal/:1:0","tags":["react-native"],"title":"æ¨ªå‘ ç€‘å¸ƒæµåˆ—è¡¨","uri":"/waterfall-list-horizontal/"},{"categories":["react-native"],"content":"æºç  import { StyleSheet, Text, TouchableOpacity, View } from \"react-native\"; import React, { useEffect, useRef, useState } from \"react\"; import HBImage from \"../../../../components/image/HBImage\"; import { px2dp } from \"../../../../utils/ScreenUtils\"; import { MasonryFlashList } from \"@shopify/flash-list\"; import { bookOpenChoices } from \"app/service/MarkService\"; import * as indexUtil from \"app/utils/index\"; const itemWidth = px2dp(12 + 86.5 + 251.5); const itemHeight = px2dp(139); const itemSpace = px2dp(17); const UserChooseBook = (props) =\u003e { const { selectedSex, marks } = props; const [dataList, setDataList] = useState([]); const listViewRef = useRef(null); const { onScrollBeginDrag, onScroll } = useListViewAutoScrollAnimate({ listViewRef: listViewRef, framesPerSecond: 40, // 1000/40 = 25å¸§/ç§’ offsetPerFrame: 1, totalScrollDistance: (itemWidth * Math.max(0, Math.max(0, dataList?.length || 0) - 1)) / 2, disableAnimate: false, }); useEffect(() =\u003e { bookOpenChoices({ gender: selectedSex || \"girl\", ...(marks ? { marks: marks } : {}), }).then((res) =\u003e { setDataList(res.books); }); }, []); const renderItem = (props) =\u003e { console.log(\"renderItem props:\", props); return ( \u003cBookItem key={props.item?.bookId} {...props} onPress={() =\u003e { goNext(props.item.bookId); }} /\u003e ); }; const goNext = (bookId) =\u003e {}; return ( \u003cView style={styles.container}\u003e \u003cText style={styles.title}\u003eè¿›ç«™å¿…è¯»\u003c/Text\u003e \u003cView style={styles.scrollContainer}\u003e \u003cMasonryFlashList ref={listViewRef} estimatedItemSize={/* itemStyles.container.height */ 100} data={dataList} keyExtractor={(item, index) =\u003e item?.[\"bookId\"]} initialNumToRender={5} numColumns={2} renderItem={renderItem} showsVerticalScrollIndicator={false} onScrollBeginDrag={onScrollBeginDrag} onScroll={onScroll} /\u003e \u003c/View\u003e \u003cTouchableOpacity style={styles.button} onPress={() =\u003e goNext()}\u003e \u003cText style={styles.buttonTitle}\u003e{\"è·³è¿‡\"}\u003c/Text\u003e \u003c/TouchableOpacity\u003e \u003c/View\u003e ); }; const styles = StyleSheet.create({ container: { flex: 1, alignItems: \"center\", paddingLeft: itemSpace, }, title: { marginTop: px2dp(90), color: \"#101417\", fontWeight: \"bold\", fontSize: px2dp(17), lineHeight: px2dp(24), }, scrollContainer: { marginTop: px2dp(72), width: itemHeight * 2 + itemSpace * 2, //px2dp(139 * 2 + 17), height: px2dp(375), transform: [{ rotate: \"270deg\" }], }, }); export default UserChooseBook; // ----- ----- ----- ----- hooks ----- ----- ----- ----- const useListViewAutoScrollAnimate = ({ listViewRef, framesPerSecond, offsetPerFrame, totalScrollDistance, }) =\u003e { const scrollInterval = Math.floor(1000 / framesPerSecond); // æ¯æ¬¡æ»šåŠ¨ä¹‹é—´çš„é—´éš”ï¼Œæ¯ç§’åŠ¨ç”»çš„å¸§æ•° const scrollDistance = offsetPerFrame; // æ§åˆ¶æ¯scrollInterval æ»šåŠ¨çš„è·ç¦» const [disabled, setDisabled] = useState(false); const scrollIntervalId = useRef(null); const currentScrollDistance = useRef(0); useEffect(() =\u003e { const stopAutoScroll = () =\u003e { clearInterval(scrollIntervalId.current); }; if (totalScrollDistance \u003e 10 \u0026\u0026 !disabled) { setTimeout(() =\u003e { startAutoScroll(); }, 100); } return () =\u003e { stopAutoScroll(); }; }, [totalScrollDistance, disabled]); const scroll = () =\u003e { const nextDistance = Math.min( totalScrollDistance, currentScrollDistance.current + scrollDistance ); listViewRef.current.scrollToOffset({ offset: nextDistance, animated: false, }); currentScrollDistance.current = nextDistance; if (currentScrollDistance.current \u003e= totalScrollDistance) { currentScrollDistance.current = 0; } }; const startAutoScroll = () =\u003e { scrollIntervalId.current = setInterval(scroll, scrollInterval); }; const onScrollBeginDrag = () =\u003e { setDisabled(true); }; const onScroll = (e) =\u003e { currentScrollDistance.current = e.nativeEvent.contentOffset.y; }; return { onScrollBeginDrag, onScroll, }; }; // ----- ----- ----- ----- component ----- ----- ----- ----- const BookItem = (props) =\u003e { const { item, index, onPress } = props; const { coverUrl, bookName: title } = item; const _coverUrl = indexUtil.getImageUrl( indexUtil.DOMAIN_PICAPP, coverUrl, indexUtil.IMG_BOOK_COVER_LIST ); return ( \u003cTouchableOpacity style={[item","date":"2023-11-01","objectID":"/waterfall-list-horizontal/:2:0","tags":["react-native"],"title":"æ¨ªå‘ ç€‘å¸ƒæµåˆ—è¡¨","uri":"/waterfall-list-horizontal/"},{"categories":["react-native"],"content":"ä»£ç æ ¸å¿ƒé€»è¾‘ MasonryFlashList è‡ªåŠ¨æ…¢é€Ÿæ»šåŠ¨åŠ¨ç”»ï¼Œå€Ÿé‰´ è¿™ä¸€ç¯‡ç€‘å¸ƒæµåˆ—è¡¨ è‡ªåŠ¨æ»šåŠ¨åŠ¨ç”»ï¼Œåœ¨è¿™é‡Œè¿ç”¨æ—¶ å°è£…åœ¨useListViewAutoScrollAnimateä¹‹ä¸­ æŠŠåˆ—è¡¨å˜æˆæ°´å¹³æ»‘åŠ¨çš„æ–¹å¼æ˜¯ï¼Œå°†åˆ—è¡¨æ—‹è½¬90åº¦ï¼Œå°†Itemå†…å®¹åè½¬90åº¦ã€‚ ä¸ºä½•ä¸ä½¿ç”¨ç±»ä¼¼ScrollViewçš„horizontalå±æ€§ï¼Œç›´æ¥è®¾æˆæ°´å¹³æ»šåŠ¨ä¸å°±å¥½äº†ï¼Ÿ æˆ‘ä¹Ÿæƒ³ï¼Œåªä¸è¿‡MasonryFlashListå®˜æ–¹æ˜ç¡®è¡¨ç¤ºï¼Œä¸æ”¯æŒå‘€~ ä»¥ä¸‹æ˜¯åˆ—è¡¨å‚ç›´å˜æ°´å¹³çš„å…³é”®æ­¥éª¤ const itemWidth = px2dp(12 + 86.5 + 251.5); //å¤§å€¼ const itemHeight = px2dp(139); //å°å€¼ const itemSpace = px2dp(17); Itemå†…å®¹ï¼ŒæŒ‰è“æ¹–å›¾è®¾ç½®çœŸå®å®½é«˜ transformContainer: { width: itemWidth, //å¤§ height: itemHeight //å° } Item è¦è¢«é¢ å€’90åº¦ï¼Œå±•ç¤ºåœ¨ä¸€ä¸ªå‚ç›´åˆ—è¡¨é‡Œï¼Œæ‰€ä»¥transformè¿™æ ·è®¾ç½® transform: [ { rotate: \"90deg\" }, { translateX: (itemWidth - itemHeight) / 2 }, { translateY: (itemWidth - itemHeight) / 2 }, ] åœ¨è¿™ä¸ªå‚ç›´åˆ—è¡¨é‡Œï¼Œæ¯ä¸ªItemçš„å£³å®¹å™¨ å®½é«˜æ˜¯è¿™æ ·çš„ container: { height: itemWidth, //å¤§ width: itemHeight, //å° } æŠŠå‚ç›´çš„åˆ—è¡¨å˜æˆ æ°´å¹³åˆ—è¡¨ï¼Œé‚£ä¹ˆå¯¹åˆ—è¡¨åå‘æ—‹è½¬90åº¦ï¼Œå³è¿™æ ·è®¾ scrollContainer: { width: itemHeight * 2 + itemSpace * 2, //px2dp(139 * 2 + 17), height: px2dp(375), transform: [{ rotate: \"270deg\" }], }, ","date":"2023-11-01","objectID":"/waterfall-list-horizontal/:2:1","tags":["react-native"],"title":"æ¨ªå‘ ç€‘å¸ƒæµåˆ—è¡¨","uri":"/waterfall-list-horizontal/"},{"categories":["react-native"],"content":"è„šæ‰‹æ¶ create-react-native-module ","date":"2023-11-01","objectID":"/create-npm-lib/:0:0","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"è„šæ‰‹æ¶ä½¿ç”¨ï¼ˆé¡ºåˆ©ï¼‰ å·¥å…·å®‰è£… npm install -g yarn npm install -g create-react-native-module è„šæ‰‹æ¶å‘½ä»¤ create-react-native-module RemoteFont --object-class-name react-native-remote-font --object-class-name RemoteFontLoader --native-package-id com.yestin.font --platforms ios,android --github-account zyestin --author-name yestin --author-email zyestin@gmail.com --generate-example --example-react-native-template react-native@0.62 è¿‡ç¨‹ä¸­å‘ç°ï¼Œè‹¥ä¸æŒ‡å®š--example-react-native-template react-native@0.62ï¼Œå‘ç°æ€»æœ‰è¿™æ ·çš„æŠ¥é”™æ—¥å¿— pod --version failure, aborting with broken example app Error while creating library module react-native-remote-font Error: Command failed with ENOENT: pod --version spawnSync pod ENOENT at Object.spawnSync (internal/child_process.js:1077:20) at Object.spawnSync (child_process.js:776:24) at Function.module.exports.sync (/usr/local/lib/node_modules/create-react-native-module/node_modules/execa/index.js:174:25) at module.exports.commandSync (/usr/local/lib/node_modules/create-react-native-module/node_modules/execa/index.js:235:15) at /usr/local/lib/node_modules/create-react-native-module/lib/lib.js:265:17 at new Promise (\u003canonymous\u003e) at /usr/local/lib/node_modules/create-react-native-module/lib/lib.js:223:18 æˆåŠŸçš„æ—¥å¿— CREATE new React Native module with the following options: name: RemoteFont full package name: react-native-remote-font is view: false object class name: RemoteFontLoader Android nativePackageId: com.yestin.font platforms: ios,android Apple tvosEnabled: false authorName: yestin authorEmail: zyestin@gmail.com author githubAccount: zyestin license: MIT useAppleNetworking: false generateExample: true exampleFileLinkage: false exampleName: example exampleReactNativeTemplate: react-native@0.62 writeExamplePodfile: false CREATE: Check for valid Yarn CLI tool version, as needed to generate the example project 1.22.21 yarn --version ok CREATE: Generating the React Native library module CREATE example app with the following template: react-native@0.62 ###### ###### ### #### #### ### ## ### ### ## ## #### ## ## #### ## ## ## ## ## ## ### ### ## ## ######################## ## ###### ### ### ###### ### ## ## ## ## ### ### ## ### #### ### ## ### ## #### ######## #### ## ## ### ########## ### ## ## #### ######## #### ## ### ## ### #### ### ## ### ### ## ## ## ## ### ###### ### ### ###### ## ######################## ## ## ### ### ## ## ## ## ## ## #### ## ## #### ## ## ### ### ## ### #### #### ### ###### ###### Welcome to React Native! Learn once, write anywhere âœ” Downloading template âœ” Copying template âœ” Processing template âœ” Installing CocoaPods dependencies (this may take a few minutes) Run instructions for Android: â€¢ Have an Android emulator running (quickest way to get started), or a device connected. â€¢ cd \"/Users/yestin/Desktop/code_test/react-native/react-native-remote-font/example\" \u0026\u0026 npx react-native run-android Run instructions for iOS: â€¢ cd \"/Users/yestin/Desktop/code_test/react-native/react-native-remote-font/example\" \u0026\u0026 npx react-native run-ios - or - â€¢ Open example/ios/example.xcworkspace in Xcode or run \"xed -b ios\" â€¢ Hit the Run button Run instructions for macOS: â€¢ See https://aka.ms/ReactNativeGuideMacOS for the latest up-to-date instructions. Linking the new module library to the example app yarn add v1.22.21 [1/4] ğŸ” Resolving packages... [2/4] ğŸšš Fetching packages... [3/4] ğŸ”— Linking dependencies... warning \"@react-native-community/eslint-config \u003e @typescript-eslint/eslint-plugin@1.13.0\" has incorrect peer dependency \"eslint@^5.0.0\". warning \"@react-native-community/eslint-config \u003e @typescript-eslint/parser@1.13.0\" has incorrect peer dependency \"eslint@^5.0.0\". warning \"@react-native-community/eslint-config \u003e eslint-plugin-react@7.12.4\" has incorrect peer dependency \"eslint@^3.0.0 || ^4.0.0 || ^5.0.0\". warning \"@react-native-community/eslint-config \u003e eslint-plugin-react-native@3.6.0\" has incorrect peer dependency \"eslint@^3.17.0 || ^4 || ^5\". warning \"@react-native-community/eslint-config \u003e @typescript-eslint/eslint-plugin \u003e tsutils@3.21.0\" ha","date":"2023-11-01","objectID":"/create-npm-lib/:1:0","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"è¿è¡ŒiOSï¼ˆè¾ƒé¡ºåˆ©ï¼‰ å¦‚RN0.62è€æ ·å­ï¼ŒAppæˆåŠŸå¯åŠ¨äº†ï¼Œ ä½†å¼¹çª—æŠ¥é”™React Native: Unexpected token ':'. Expected a ')' è¿™æ ·æ”¹metro-react-native-babel-preset from 0.58.0 to 0.59.0 ç„¶åyarn install \u0026\u0026 npx pod-install åï¼Œ é‡æ–°Xcode run iOSå°±OKäº† ","date":"2023-11-01","objectID":"/create-npm-lib/:2:0","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"å°†è‡ªå®šä¹‰ä¸‰æ–¹åº“ä»£ç å†™å…¥ï¼ˆæœ‰å‘ï¼‰ ","date":"2023-11-01","objectID":"/create-npm-lib/:3:0","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"è¾“å…¥ æœ¬åº“ä»£ç  ç›´æ¥åœ¨é¡¶å±‚ç›®å½• æ”¹ä¸‰æ–¹åº“ä»£ç å°±è¡Œ å› ä¸ºexampleå†…æ‰€ä½¿ç”¨çš„react-native-remote-fontæ–‡ä»¶ï¼Œæ˜¯è½¯é“¾ï¼ŒæŒ‡å‘åˆ°é¡¶å±‚ç›®å½•çš„ ","date":"2023-11-01","objectID":"/create-npm-lib/:3:1","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"æ·»åŠ  å…¶å®ƒä¾èµ–åº“ï¼ˆæŒºå‘ï¼‰ ç›´æ¥åœ¨package.jsoné‡Œæ·»åŠ å¦‚ä¸Šä¾èµ–åï¼Œyarn \u0026\u0026 npx pod-installåï¼ŒXcode run æŠ¥é”™å¦‚ä¸‹ï¼Œå¤šæ¬¡è¿™æ ·åï¼Œè¿˜æ˜¯æŠ¥é”™ã€‚ã€‚ã€‚ error: Error: Unable to resolve module react-native-fs from /Users/yestin/Desktop/code_test/react-native/react-native-remote-font/index.js: react-native-fs could not be found within the project or in these directories: /Users/yestin/Desktop/code_test/react-native/react-native-remote-font/example/node_modules If you are sure the module exists, try these steps: 1. Clear watchman watches: watchman watch-del-all 2. Delete node_modules and run yarn install 3. Reset Metro's cache: yarn start --reset-cache 4. Remove the cache: rm -rf /tmp/metro-* 10 | } from \"react-native\"; 11 | import React, { useEffect, useMemo, useRef, useState } from \"react\"; \u003e 12 | import RNFS from \"react-native-fs\"; | ^ æŒ‰ç…§ä¸Šé¢çš„æç¤ºï¼Œæ‰§è¡Œ watchman watch-del-all rm -rf node_modules yarn \u0026\u0026 npx pod-install ä¹Ÿç»ˆäºåœ¨ node_modulesä¸‹ èƒ½çœ‹åˆ°äº† react-native-fs æ­¤æ—¶ï¼Œå±…ç„¶è¿˜æ²¡æœ‰å¥½ï¼ŒæŠ¥é”™ Invariant Violation: Native module cannot be null å› Xcode å¹¶æ²¡æœ‰linkåˆ°è¿™ä¸ªåº“çš„iOSä»£ç RNFSï¼ŒXcodeé‡Œå®Œå…¨æœä¸åˆ° äºæ˜¯ å¾€example/ios/Podfileé‡Œæ‰‹åŠ¨æ·»åŠ link pod 'RNFS', :path =\u003e '../node_modules/react-native-fs' å†npx pod-installå å°±å¥½äº† æˆ‘æŠŠè¿™ä¸ªä¸´æ—¶æ–¹æ¡ˆæä¾›åˆ°äº†create-react-native-module/issues/489# ","date":"2023-11-01","objectID":"/create-npm-lib/:3:2","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"å†™Demoæµ‹è¯• ä» Google Fonts æ‰’ä¸€äº›å­—ä½“é“¾æ¥ const fontInfoList = [ { fontName: \"Ma Shan Zheng\", fontUrl: \"https://fonts.gstatic.com/s/mashanzheng/v10/NaPecZTRCLxvwo41b4gvzkXaRMHsCoRTJKKTqxFXqIji1hn3wSpSEA3eSpJy0awdsFt2Zfc6SSE.119.woff2\", }, { fontName: \"Afacad\", fontUrl: \"https://fonts.gstatic.com/s/afacad/v1/6NUI8FKMIQOGaw6ahLYEvBjUVG5Ga92uVSQ-9kKlZfNfuw.ttf\", }, { fontName: \"Rubik Bubbles\", fontUrl: \"https://fonts.gstatic.com/s/rubikbubbles/v3/JIA1UVdwbHFJtwA7Us1BPFbRNTENfDxyRXI.ttf\", }, { fontName: \"Preahvihear\", fontUrl: \"https://fonts.gstatic.com/s/preahvihear/v29/6NUS8F-dNQeEYhzj7uluxswE49FJf8Wv.ttf\", }, ]; æµ‹è¯•çš„æ ¸å¿ƒä»£ç  \u003cArtText text=\"Hello World\" style={{ fontSize: 20, fontVariant: [\"proportional-nums\"] }} fontInfo={fontInfoList[fontInfoIndex]} /\u003e åŒæ ·ï¼Œå°†å®‰å“ä»£ç æ”¾è¿›å» ","date":"2023-11-01","objectID":"/create-npm-lib/:4:0","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"è¿è¡Œ Androidï¼ˆæŒºå‘ï¼‰ yarn androidæŠ¥é”™ ","date":"2023-11-01","objectID":"/create-npm-lib/:5:0","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"(1) Failed to transform react-native-0.71.0-rc.0-debug.aar * What went wrong: Execution failed for task ':react-native-remote-font:javaPreCompileDebug'. \u003e Could not resolve all files for configuration ':react-native-remote-font:debugCompileClasspath'. \u003e Failed to transform react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0) to match attributes {artifactType=android-classes, com.android.build.api.attributes.BuildTypeAttr=debug, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-api}. \u003e Execution failed for JetifyTransform: /Users/yestin/.gradle/caches/modules-2/files-2.1/com.facebook.react/react-native/0.71.0-rc.0/7a7f5a0af6ebd8eb94f7e5f7495e9d9684b4f543/react-native-0.71.0-rc.0-debug.aar. \u003e Java heap space æŸ¥åˆ°æ˜¯RNçš„åŸå› äº†ï¼Œç…§ç€è¿™ä¸ªå›ç­” react-native/issues/35210#issuecomment-1304536693 åœ¨react-native-remote-font/example/android/build.gradleæ·»åŠ å¦‚ä¸‹ä»£ç  def REACT_NATIVE_VERSION = new File(['node', '--print',\"JSON.parse(require('fs').readFileSync(require.resolve('react-native/package.json'), 'utf-8')).version\"].execute(null, rootDir).text.trim()) allprojects { configurations.all { resolutionStrategy { // Remove this override in 0.66, as a proper fix is included in react-native itself. force \"com.facebook.react:react-native:\" + REACT_NATIVE_VERSION } } å†æ¬¡ yarn android AppæˆåŠŸå®‰è£…å¯åŠ¨ï¼Œä½†ä¾ç„¶æŠ¥é”™ ","date":"2023-11-01","objectID":"/create-npm-lib/:5:1","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"(2) ä¹Ÿé‡åˆ° Linké—®é¢˜ build error æ‰¾ä¸åˆ°ç¬¦å·RNFSPackage /Users/yestin/Desktop/code_test/react-native/react-native-remote-font/example/android/app/src/main/java/com/example/MainApplication.java:31: é”™è¯¯: æ‰¾ä¸åˆ°ç¬¦å· packages.add(new RNFSPackage()); ^ ç¬¦å·: ç±» RNFSPackage * What went wrong: Execution failed for task ':app:compileDebugJavaWithJavac'. \u003e Compilation failed; see the compiler error output for details. åœ¨build.gradleçš„dependencies {...}å†…æ·»åŠ  implementation project(':react-native-fs') build error ':react-native-fs' could not be found in project ':app' FAILURE: Build failed with an exception. * Where: Build file '/Users/yestin/Desktop/code_test/react-native/react-native-remote-font/example/android/app/build.gradle' line: 197 * What went wrong: A problem occurred evaluating project ':app'. \u003e Project with path ':react-native-fs' could not be found in project ':app'. åœ¨settings.gradle æ·»åŠ  path include ':react-native-fs' project(':react-native-fs').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-fs/android') è¿è¡ŒæˆåŠŸäº†ï¼Œä½†å¼¹çª—æŠ¥é”™ build error TypeError: null ... RNFSManager TypeError: null is not an object (evaluating 'RNFSManager.RNFSFileTypeRegular') å‘ç°æœä¸åˆ°RNFSManagerè¢«å¼•ç”¨çš„åœ°æ–¹ äºæ˜¯åœ¨MainApplication.javaä¸­getPackages(){...}å†…æ·»åŠ  // react-native-fs import com.rnfs.RNFSPackage; packages.add(new RNFSPackage()); è‡³æ­¤ï¼Œç»ˆäº ä¸æŠ¥é”™äº†ã€‚ã€‚ã€‚ ","date":"2023-11-01","objectID":"/create-npm-lib/:5:2","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"å‘å¸ƒ ç¡®è®¤æœ¬åœ°æ˜¯å¦æˆåŠŸç™»é™†npmè®¤è¯æˆåŠŸ npm whoami zyestin è‹¥æœªç™»å½•ï¼Œåˆ™æ‰§è¡Œnpm adduser æ‰§è¡Œnpm publish æŠ¥é”™ï¼Œæ˜¯å› ä¸ºæˆ‘åˆšåˆ é™¤äº†åŒååº“ï¼Œæƒ³é‡å‘ä¸€ä¸ªï¼Œå´å¤±è´¥äº†ã€‚ è€Œnpmè§„åˆ™æ˜¯ 24å°æ—¶æ‰èƒ½å‘å¸ƒåˆšåˆ é™¤çš„åŒåçš„åŒ… 18 http fetch PUT 403 https://registry.npmjs.org/react-native-remote-font 1544ms 19 verbose stack Error: 403 Forbidden - PUT https://registry.npmjs.org/react-native-remote-font - react-native-remote-font cannot be republished until 24 hours have passed. ","date":"2023-11-01","objectID":"/create-npm-lib/:6:0","tags":["contribution","package","react-native"],"title":"ç”¨è„šæ‰‹æ¶ åˆ¶ä½œä¸€ä¸ªRNåº“ æ”¾npm","uri":"/create-npm-lib/"},{"categories":["react-native"],"content":"ç¤ºä¾‹æ•ˆæœå±•ç¤º åˆ‡æ¢åˆ°æ–°å­—ä½“ï¼Œç»è¿‡loadingåï¼Œåº”ç”¨ä¸Šæ–°å­—ä½“ åˆ‡æ¢åˆ°å·²åŠ è½½è¿‡çš„å­—ä½“ï¼Œç›´æ¥åº”ç”¨ä¸Š iOS Android ","date":"2023-11-01","objectID":"/art-text/:1:0","tags":["best-practice","react-native"],"title":"è¿œç¨‹å­—ä½“çš„åŠ¨æ€åŠ è½½\u0026åº”ç”¨","uri":"/art-text/"},{"categories":["react-native"],"content":"ä½¿ç”¨/Usage å°è£…åï¼Œå¦‚ä¸‹è¿™æ ·ä½¿ç”¨ï¼Œè§£è€¦çš„å¹²å¹²å‡€å‡€ import { StyleSheet, Text, TouchableOpacity, View } from \"react-native\"; import React, { useState } from \"react\"; import ArtText from \"./ArtText\"; const ArtTextDemo = () =\u003e { const [fontInfoIndex, setFontInfoIndex] = useState(0); return ( \u003cView style={{ flex: 1, padding:100 }}\u003e \u003cTouchableOpacity style={{padding:10}} onPress={() =\u003e { setFontInfoIndex((fontInfoIndex + 1) % fontInfoList.length); }} \u003e \u003cText\u003e{\"Switch Font\"}\u003c/Text\u003e \u003c/TouchableOpacity\u003e \u003cText style={{ marginVertical: 20 }}\u003e {\"Current font - \" + fontInfoIndex + \" - \" + fontInfoList[fontInfoIndex].fontName} \u003c/Text\u003e \u003cArtText text=\"Hello World\" style={{ fontSize: 20 }} fontInfo={fontInfoList[fontInfoIndex]} /\u003e \u003c/View\u003e ); }; const fontInfoList = [ { fontName: \"ç¾å‘—å˜¿å˜¿ä½“\", fontUrl: \"https://imgcn.cdn.com/app/download/fonts/meibeiheiehiti2.ttf\", }, ... ]; ","date":"2023-11-01","objectID":"/art-text/:2:0","tags":["best-practice","react-native"],"title":"è¿œç¨‹å­—ä½“çš„åŠ¨æ€åŠ è½½\u0026åº”ç”¨","uri":"/art-text/"},{"categories":["react-native"],"content":"æºç /Code RNç»„ä»¶ ArtText.js iOSæ¡¥æ¥ç±» CustomFontManager.h CustomFontManager.m Androidæ¡¥æ¥ç±» WordArtModule.java ","date":"2023-11-01","objectID":"/art-text/:3:0","tags":["best-practice","react-native"],"title":"è¿œç¨‹å­—ä½“çš„åŠ¨æ€åŠ è½½\u0026åº”ç”¨","uri":"/art-text/"},{"categories":["react-native"],"content":"é€»è¾‘è§£è¯» 1.åˆ‡æ¢å­—ä½“èƒŒå ä¼šç»å†ä»€ä¹ˆ åˆ¤æ–­è‹¥æ˜¯æ–°å­—ä½“ï¼Œéœ€è¦ç»å†å¦‚ä¸‹è¿‡ç¨‹ï¼Œä½¿å­—ä½“è¾¾åˆ°å¯ä»¥åº”ç”¨åˆ°Textç»„ä»¶é‡Œçš„çŠ¶æ€ å­—ä½“æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ™åˆ›å»º ä¸‹è½½å­—ä½“åˆ°æŒ‡å®šè·¯å¾„ é€šè¿‡åŸç”Ÿå±‚å¤„ç†ä½¿å¾—å­—ä½“è¾¾åˆ°å¯åº”ç”¨çŠ¶æ€ è‹¥æ˜¯åˆ‡æ¢åˆ°æ—§å­—ä½“ä¼šçœç•¥å…¶ä¸­ä¸€äº›æ­¥éª¤ 2.ä¸ºä»€ä¹ˆæœ‰ä¸ªã€Œå¯åº”ç”¨ã€çŠ¶æ€ è¿™æ˜¯ç”±iOSã€å®‰å“åŸç”Ÿå†³å®šçš„ iOS ä¸ä»…éœ€è¦ä¸‹è½½åˆ°æœ¬åœ°å°±å®Œäº‹äº†ï¼Œè¿˜éœ€è¦åŠ è½½åˆ°å†…å­˜ï¼Œå†è®¾ç½®RNçš„Textç»„ä»¶çš„fontFamilyå°±ä¸ä¼šæŠ¥é”™/å¤±æ•ˆäº† Android åˆ™æ˜¯éœ€è¦æ‹¿åˆ°Textç»„ä»¶æ‰€å¯¹åº”çš„åŸç”Ÿå¯¹è±¡ï¼Œé€šè¿‡å°†JSå±‚çš„target IDä¼ åˆ°åŸç”Ÿå»ï¼Œåœ¨åŸç”Ÿå±‚å»åº”ç”¨å­—ä½“çš„ 3.å…¶ä¸­æœ‰å“ªäº›éœ€è¦æ³¨æ„çš„ï¼Ÿ RNåº”ç”¨ æ‰€ä¸‹è½½çš„è¿œç¨‹å­—ä½“ï¼Œä¸ä»…åº”ç”¨èµ·æ¥éº»çƒ¦ éœ€è¦åŸç”Ÿå±‚å¤„ç†ä¸€é“ï¼Œè€Œä¸”åœ¨styleçš„è®¾ç½®ä¸Šè¿˜è¦åšç‰¹åˆ«å¤„ç†è§„é¿bugï¼Œå¹¶ä¸”ä¸¤ç«¯è¿˜æœ‰å·®å¼‚ï¼Œå¦‚ä¸‹ iOSï¼Œè‹¥åœ¨å­—ä½“æœªè¾¾åˆ°å¯åº”ç”¨çŠ¶æ€æ—¶ï¼Œæå‰ä¸ºTextè®¾ç½®äº†fontFamilyï¼ŒAppåœ¨debuggingæ—¶ä¼šå‘ç”ŸæŠ¥é”™ã€‚ã€‚ã€‚ Androidï¼Œé€šè¿‡åŸç”Ÿå»è®¾ç½®è¿œç¨‹ä¸‹è½½çš„å­—ä½“ï¼Œè‹¥å†åœ¨styleé‡Œè®¾ç½®fontFamilyï¼Œç«Ÿç„¶ä¼šå¯¼è‡´å­—ä½“ä¼šåº”ç”¨å¤±æ•ˆã€‚ã€‚ã€‚ BTWï¼šæ–‡ç« å¼€å¤´çš„ç¤ºä¾‹æ•ˆæœï¼Œæ‰€å¯¹åº”çš„Demo ArtTextDemo åæ¥ï¼ŒåŸºäºè¿™ä»½ä»£ç ï¼Œåˆ¶ä½œäº†ä¸€ä¸ªnpmåº“ react-native-remote-font ","date":"2023-11-01","objectID":"/art-text/:3:1","tags":["best-practice","react-native"],"title":"è¿œç¨‹å­—ä½“çš„åŠ¨æ€åŠ è½½\u0026åº”ç”¨","uri":"/art-text/"},{"categories":["write"],"content":"2023æœ€æ–° hugo + github pages ä½¿ç”¨æ–¹å¼ ç½‘ä¸Šå¤§å¤šæ˜¯hugoæ—§ç‰ˆçš„ä½¿ç”¨æ–¹å¼ï¼Œæœ‰å¥½å‡ å¤„æ˜æ˜¾å·®å¼‚çš„ï¼Œä¸å€¼å¾—å€Ÿé‰´ï¼Œåæ­£æˆ‘å€Ÿé‰´åå‡ºç°å„ç§è«åå…¶å¦™é—®é¢˜ ä¸¥æ ¼æŒ‰ç…§å®˜æ–¹è¿™ä¸¤ä¸ªé“¾æ¥ï¼Œå°±ä¸ä¼šå‡ºç°é—®é¢˜: hugo quick start hugo new site quickstart cd quickstart git init git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke echo \"theme = 'ananke'\" \u003e\u003e hugo.toml hugo server hugo new content posts/my-first-post.md open content/posts/my-first-post.md //ç„¶åè¿›è¡Œä¿®æ”¹ hugo server -D //å¯ä»¥ç¼–è¾‘åï¼Œ åœ¨ http://localhost:1313/ è¿›è¡Œé¢„è§ˆ hugo //ç”Ÿæˆwebé™æ€èµ„æºï¼Œä»¥ä¾¿ä¸‹ä¸€æ­¥æäº¤githubæ—¶è¿›è¡Œéƒ¨ç½² Host on GitHub Pages éœ€è¦æ³¨æ„çš„åœ°æ–¹: è¯·å…ˆå°è¯• hugoæ–‡æ¡£é‡Œæä¾›çš„themeï¼Œå³anankeï¼Œèµ°é€šä¸€éæµç¨‹ æˆ‘å°±é‡‡å‘äº†ï¼Œä½¿ç”¨äº†å¦ä¸€ä¸ªthemeï¼Œåé¢åœ¨ localhost ä¸€ç›´ä¸å‡ºç° my-first-post.md .github/workflows/hugo.yaml ä¸€å®šè¦æ³¨æ„ä¿®æ”¹ HUGO_VERSION çš„å€¼ my-first-post.md æ³¨æ„åˆ æ‰/æ³¨é‡Šæ‰ draft:true è¿™æ · pushåˆ°githubæ—¶ï¼Œpublic/index.htmlç­‰å‡ ä¸ªæ–‡ä»¶ä¸­æ‰åŒ…å«äº† my-first-post.mdçš„å†…å®¹ï¼Œè®¿é—® https://zyestin.github.io/zyestin/ æ—¶æ‰èƒ½æ‰¾åˆ° my-first-post.mdå…¥å£ ","date":"2023-08-24","objectID":"/hugo-usage/:0:0","tags":["tool","write"],"title":"hugo + github pages usage","uri":"/hugo-usage/"}]